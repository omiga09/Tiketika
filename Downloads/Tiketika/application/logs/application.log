2025-11-27 10:21:52,037 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 9849 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 10:21:52,043 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 10:21:52,423 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 10:21:53,306 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 10:21:53,987 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 240 ms. Found 13 JPA repository interfaces.
2025-11-27 10:21:54,868 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 10:21:54,885 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 10:21:54,887 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 10:21:54,888 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 10:21:54,965 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 2837 ms
2025-11-27 10:21:55,182 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 10:21:55,432 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@282c4da0
2025-11-27 10:21:55,435 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 10:21:57,919 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 10:21:58,172 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 10:21:59,779 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 10:21:59,782 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:22:02,627 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:22:04,426 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:22:04,466 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 10:22:04,469 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:22:04,488 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 10:22:04,488 INFO  liquibase.util [main] Run:                          0
2025-11-27 10:22:04,488 INFO  liquibase.util [main] Previously run:              16
2025-11-27 10:22:04,489 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 10:22:04,489 INFO  liquibase.util [main] -------------------------------
2025-11-27 10:22:04,489 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 10:22:04,490 INFO  liquibase.util [main] Update summary generated
2025-11-27 10:22:04,490 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:22:04,586 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 10:22:04,737 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 10:22:05,388 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 10:22:05,452 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 10:22:05,467 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 10:22:07,460 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 10:22:07,519 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 10:22:07,612 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 10:22:08,970 WARN  o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-27 10:22:09,107 INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customerUserDetailsService
2025-11-27 10:22:09,364 DEBUG o.s.s.web.DefaultSecurityFilterChain [main] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtRequestFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 10:22:09,518 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [main] 23 mappings in 'requestMappingHandlerMapping'
2025-11-27 10:22:09,560 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-27 10:22:09,613 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-27 10:22:09,678 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-27 10:22:13,930 INFO  o.a.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2025-11-27 10:22:13,991 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/api'
2025-11-27 10:22:14,020 INFO  c.t.Tiketika.TiketikaApplication [main] Started TiketikaApplication in 24.575 seconds (process running for 25.304)
2025-11-27 10:45:15,699 INFO  o.s.boot.tomcat.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 10:45:15,711 INFO  o.s.boot.tomcat.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-11-27 10:45:15,728 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 10:45:15,737 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-11-27 10:45:15,745 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-11-27 10:45:25,270 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 10314 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 10:45:25,275 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 10:45:25,625 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 10:45:26,389 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 10:45:26,530 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 126 ms. Found 13 JPA repository interfaces.
2025-11-27 10:45:27,524 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 10:45:27,551 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 10:45:27,556 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 10:45:27,558 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 10:45:27,683 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 2337 ms
2025-11-27 10:45:27,960 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 10:45:28,283 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@677349fb
2025-11-27 10:45:28,286 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 10:45:28,821 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 10:45:28,946 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 10:45:28,997 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 10:45:28,999 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:45:31,758 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:45:32,564 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:45:32,605 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 10:45:32,608 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:45:32,641 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 10:45:32,642 INFO  liquibase.util [main] Run:                          0
2025-11-27 10:45:32,642 INFO  liquibase.util [main] Previously run:              16
2025-11-27 10:45:32,642 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 10:45:32,642 INFO  liquibase.util [main] -------------------------------
2025-11-27 10:45:32,642 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 10:45:32,643 INFO  liquibase.util [main] Update summary generated
2025-11-27 10:45:32,644 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:45:32,746 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 10:45:32,836 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 10:45:33,499 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 10:45:33,570 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 10:45:33,585 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 10:45:35,607 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 10:45:35,672 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 10:45:35,762 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 10:45:37,176 WARN  o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-27 10:45:37,303 INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customerUserDetailsService
2025-11-27 10:45:37,543 DEBUG o.s.s.web.DefaultSecurityFilterChain [main] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtRequestFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 10:45:37,711 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [main] 23 mappings in 'requestMappingHandlerMapping'
2025-11-27 10:45:37,760 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-27 10:45:37,806 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-27 10:45:37,867 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-27 10:45:42,181 INFO  o.a.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2025-11-27 10:45:42,228 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/api'
2025-11-27 10:45:42,253 INFO  c.t.Tiketika.TiketikaApplication [main] Started TiketikaApplication in 18.127 seconds (process running for 18.84)
2025-11-27 10:46:23,104 INFO  o.a.c.c.C.[.[localhost].[/api] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-27 10:46:23,104 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2025-11-27 10:46:23,104 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Detected StandardServletMultipartResolver
2025-11-27 10:46:23,104 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Detected AcceptHeaderLocaleResolver
2025-11-27 10:46:23,106 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@253bf220
2025-11-27 10:46:23,107 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Detected org.springframework.web.servlet.support.SessionFlashMapManager@55c14260
2025-11-27 10:46:23,107 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-27 10:46:23,107 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 3 ms
2025-11-27 10:46:23,121 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing POST /admin/roles
2025-11-27 10:46:23,195 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-1] Secured POST /admin/roles
2025-11-27 10:46:23,198 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] POST "/api/admin/roles", parameters={}
2025-11-27 10:46:23,206 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [http-nio-8080-exec-1] Mapped to com.tiketika.Tiketika.common.auth.controller.command.RolePermissionCommandController#createRole(CreateRoleRequest)
2025-11-27 10:46:23,308 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [http-nio-8080-exec-1] Read "application/json;charset=UTF-8" to [CreateRoleRequest[name=CUSTOMER, entityType=EVENTS, permissionIds=null]]
2025-11-27 10:46:23,356 WARN  org.hibernate.orm.jdbc.error [http-nio-8080-exec-1] HHH000247: ErrorCode: 1062, SQLState: 23000
2025-11-27 10:46:23,357 WARN  org.hibernate.orm.jdbc.error [http-nio-8080-exec-1] Duplicate entry 'CUSTOMER-EVENTS' for key 'app_role.uk_role_name_entitytype'
2025-11-27 10:46:23,381 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Failed to complete request: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Duplicate entry 'CUSTOMER-EVENTS' for key 'app_role.uk_role_name_entitytype'] [insert into app_role (created_at,entity_type,name,submitted_at,updated_at) values (?,?,?,?,?)]; SQL [insert into app_role (created_at,entity_type,name,submitted_at,updated_at) values (?,?,?,?,?)]; constraint [app_role.uk_role_name_entitytype]
2025-11-27 10:46:23,382 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Duplicate entry 'CUSTOMER-EVENTS' for key 'app_role.uk_role_name_entitytype'] [insert into app_role (created_at,entity_type,name,submitted_at,updated_at) values (?,?,?,?,?)]; SQL [insert into app_role (created_at,entity_type,name,submitted_at,updated_at) values (?,?,?,?,?)]; constraint [app_role.uk_role_name_entitytype]] with root cause
java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'CUSTOMER-EVENTS' for key 'app_role.uk_role_name_entitytype'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:190)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:103)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:45)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:66)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:191)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:129)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:92)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:90)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:684)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:376)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:290)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:220)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:138)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:148)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:92)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:76)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:52)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:140)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:692)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:676)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy2/jdk.proxy2.$Proxy155.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:317)
	at jdk.proxy2/jdk.proxy2.$Proxy155.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:663)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:278)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:545)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:290)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:708)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:171)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:166)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy163.save(Unknown Source)
	at com.tiketika.Tiketika.common.auth.services.command.RolePermissionService.createRole(RolePermissionService.java:37)
	at com.tiketika.Tiketika.common.auth.controller.command.RolePermissionCommandController.createRole(RolePermissionCommandController.java:27)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at com.tiketika.Tiketika.security.jwtRequestFilter.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-27 10:46:23,391 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /error
2025-11-27 10:46:23,392 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 10:46:23,404 DEBUG o.s.s.w.s.HttpSessionRequestCache [http-nio-8080-exec-1] Saved request http://localhost:8080/api/error?continue to session
2025-11-27 10:46:23,404 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-1] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-11-27 10:46:23,404 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-1] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@31b4160
2025-11-27 10:49:07,417 INFO  o.s.boot.tomcat.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 10:49:07,420 INFO  o.s.boot.tomcat.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-11-27 10:49:07,427 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 10:49:07,430 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-11-27 10:49:07,439 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-11-27 10:50:00,059 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 10554 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 10:50:00,063 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 10:50:00,268 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 10:50:00,833 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 10:50:00,942 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 100 ms. Found 13 JPA repository interfaces.
2025-11-27 10:50:01,531 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 10:50:01,542 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 10:50:01,544 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 10:50:01,545 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 10:50:01,609 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 1487 ms
2025-11-27 10:50:01,726 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 10:50:01,866 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f96dd64
2025-11-27 10:50:01,868 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 10:50:07,199 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 10:50:07,262 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 10:50:07,307 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 10:50:07,308 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:50:12,215 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:50:12,763 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:50:12,786 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 10:50:12,788 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:50:12,804 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 10:50:12,805 INFO  liquibase.util [main] Run:                          0
2025-11-27 10:50:12,805 INFO  liquibase.util [main] Previously run:              16
2025-11-27 10:50:12,805 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 10:50:12,805 INFO  liquibase.util [main] -------------------------------
2025-11-27 10:50:12,805 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 10:50:12,805 INFO  liquibase.util [main] Update summary generated
2025-11-27 10:50:12,806 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:50:12,867 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 10:50:12,908 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 10:50:13,298 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 10:50:13,345 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 10:50:13,356 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 10:50:14,587 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 10:50:14,627 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 10:50:14,689 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 10:50:15,596 WARN  o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-27 10:50:15,686 INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customerUserDetailsService
2025-11-27 10:50:15,830 DEBUG o.s.s.web.DefaultSecurityFilterChain [main] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtRequestFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 10:50:15,942 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [main] 23 mappings in 'requestMappingHandlerMapping'
2025-11-27 10:50:15,975 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-27 10:50:16,008 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-27 10:50:16,056 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-27 10:50:23,800 INFO  o.a.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2025-11-27 10:50:23,813 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/api'
2025-11-27 10:50:23,820 INFO  c.t.Tiketika.TiketikaApplication [main] Started TiketikaApplication in 24.494 seconds (process running for 24.934)
2025-11-27 10:50:29,970 INFO  o.a.c.c.C.[.[localhost].[/api] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-27 10:50:29,971 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2025-11-27 10:50:29,971 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected StandardServletMultipartResolver
2025-11-27 10:50:29,971 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected AcceptHeaderLocaleResolver
2025-11-27 10:50:29,973 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@8dc73c7
2025-11-27 10:50:29,973 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected org.springframework.web.servlet.support.SessionFlashMapManager@7ab66d54
2025-11-27 10:50:29,973 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-27 10:50:29,974 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed initialization in 3 ms
2025-11-27 10:50:29,981 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /admin/roles
2025-11-27 10:50:29,989 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 10:50:30,002 DEBUG o.s.s.w.s.HttpSessionRequestCache [http-nio-8080-exec-2] Saved request http://localhost:8080/api/admin/roles?continue to session
2025-11-27 10:50:30,003 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-2] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-11-27 10:50:30,003 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-2] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@6db62d53
2025-11-27 10:50:30,009 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /error
2025-11-27 10:50:30,009 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 10:50:30,010 DEBUG o.s.s.w.s.HttpSessionRequestCache [http-nio-8080-exec-2] Saved request http://localhost:8080/api/error?continue to session
2025-11-27 10:50:30,011 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-2] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-11-27 10:50:30,011 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-2] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@6db62d53
2025-11-27 10:51:28,066 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing POST /admin/roles
2025-11-27 10:51:28,118 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-3] Secured POST /admin/roles
2025-11-27 10:51:28,120 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-3] POST "/api/admin/roles", parameters={}
2025-11-27 10:51:28,126 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [http-nio-8080-exec-3] Mapped to com.tiketika.Tiketika.common.auth.controller.command.RolePermissionCommandController#createRole(CreateRoleRequest)
2025-11-27 10:51:28,222 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [http-nio-8080-exec-3] Read "application/json;charset=UTF-8" to [CreateRoleRequest[name=CUSTOMER, entityType=BUSES, permissionIds=null]]
2025-11-27 10:51:28,322 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-3] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27 10:51:28,323 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-3] Writing [com.tiketika.Tiketika.common.auth.entities.Role@65129f72]
2025-11-27 10:51:28,365 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-3] Completed 201 CREATED
2025-11-27 10:53:45,462 INFO  o.s.boot.tomcat.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 10:53:45,464 INFO  o.s.boot.tomcat.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-11-27 10:53:45,473 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 10:53:45,477 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-11-27 10:53:45,485 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-11-27 10:53:49,169 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 10786 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 10:53:49,173 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 10:53:49,306 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 10:53:49,926 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 10:53:50,015 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 79 ms. Found 13 JPA repository interfaces.
2025-11-27 10:53:50,620 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 10:53:50,635 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 10:53:50,638 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 10:53:50,638 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 10:53:50,695 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 1460 ms
2025-11-27 10:53:50,844 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 10:53:50,985 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@73d62b5
2025-11-27 10:53:50,987 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 10:53:51,321 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 10:53:51,390 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 10:53:51,433 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 10:53:51,434 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:53:54,345 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:53:54,929 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:53:54,951 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 10:53:54,953 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:53:54,963 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 10:53:54,963 INFO  liquibase.util [main] Run:                          0
2025-11-27 10:53:54,963 INFO  liquibase.util [main] Previously run:              16
2025-11-27 10:53:54,963 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 10:53:54,964 INFO  liquibase.util [main] -------------------------------
2025-11-27 10:53:54,964 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 10:53:54,964 INFO  liquibase.util [main] Update summary generated
2025-11-27 10:53:54,965 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:53:55,026 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 10:53:55,066 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 10:53:55,503 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 10:53:55,550 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 10:53:55,560 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 10:53:56,823 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 10:53:56,859 ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Failed to initialize JPA EntityManagerFactory: Unable to build Hibernate SessionFactory  [persistence unit: default] ; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [role_permissions]
2025-11-27 10:53:56,861 ERROR o.s.b.t.s.DeferredServletContainerInitializers [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtRequestFilter' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/security/jwtRequestFilter/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerUserDetailsService' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/common/configuration/CustomerUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.tiketika.Tiketika.common.auth.repositories.UserRepository defined in @EnableJpaRepositories declared on DataJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-11-27 10:53:56,880 INFO  o.a.catalina.core.StandardService [main] Stopping service [Tomcat]
2025-11-27 10:53:56,883 WARN  o.a.c.loader.WebappClassLoaderBase [main] The web application [api] appears to have started a thread named [HikariPool-1:housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.16/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.16/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.16/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1679)
 java.base@17.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@17.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@17.0.16/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.16/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.16/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.16/java.lang.Thread.run(Thread.java:840)
2025-11-27 10:53:56,884 WARN  o.s.b.w.s.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-11-27 10:53:56,884 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2025-11-27 10:53:56,890 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2025-11-27 10:53:56,895 INFO  o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-27 10:53:56,905 ERROR o.s.boot.SpringApplication [main] Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:614)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at com.tiketika.Tiketika.TiketikaApplication.main(TiketikaApplication.java:11)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:150)
	at org.springframework.boot.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:110)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:408)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:166)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:190)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtRequestFilter' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/security/jwtRequestFilter/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerUserDetailsService' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/common/configuration/CustomerUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.tiketika.Tiketika.common.auth.repositories.UserRepository defined in @EnableJpaRepositories declared on DataJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:231)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:185)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:180)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:165)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:97)
	at org.springframework.boot.web.context.servlet.WebApplicationContextInitializer.initialize(WebApplicationContextInitializer.java:53)
	at org.springframework.boot.tomcat.servlet.DeferredServletContainerInitializers.onStartup(DeferredServletContainerInitializers.java:55)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4416)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:767)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:201)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:410)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:864)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:435)
	at org.springframework.boot.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:131)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerUserDetailsService' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/common/configuration/CustomerUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.tiketika.Tiketika.common.auth.repositories.UserRepository defined in @EnableJpaRepositories declared on DataJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 53 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.tiketika.Tiketika.common.auth.repositories.UserRepository defined in @EnableJpaRepositories declared on DataJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1712)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1461)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 67 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:356)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/hibernate/autoconfigure/HibernateJpaConfiguration.class]: Unable to build Hibernate SessionFactory  [persistence unit: default] ; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [role_permissions]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 93 common frames omitted
Caused by: jakarta.persistence.PersistenceException: Unable to build Hibernate SessionFactory  [persistence unit: default] ; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [role_permissions]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:428)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	... 100 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [role_permissions]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:134)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:44)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:75)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:276)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:142)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:139)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:350)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:436)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1459)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	... 104 common frames omitted
2025-11-27 10:54:52,258 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 10929 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 10:54:52,261 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 10:54:52,454 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 10:54:52,984 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 10:54:53,075 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 83 ms. Found 13 JPA repository interfaces.
2025-11-27 10:54:53,723 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 10:54:53,735 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 10:54:53,737 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 10:54:53,738 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 10:54:53,791 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 1480 ms
2025-11-27 10:54:53,910 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 10:54:54,057 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@677349fb
2025-11-27 10:54:54,059 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 10:54:54,401 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 10:54:54,475 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 10:54:54,514 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 10:54:54,515 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:55:01,651 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:55:02,183 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:55:02,216 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 10:55:02,219 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:55:02,231 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 10:55:02,231 INFO  liquibase.util [main] Run:                          0
2025-11-27 10:55:02,231 INFO  liquibase.util [main] Previously run:              16
2025-11-27 10:55:02,231 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 10:55:02,231 INFO  liquibase.util [main] -------------------------------
2025-11-27 10:55:02,231 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 10:55:02,232 INFO  liquibase.util [main] Update summary generated
2025-11-27 10:55:02,233 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:55:02,314 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 10:55:02,356 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 10:55:02,821 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 10:55:02,872 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 10:55:02,884 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 10:55:04,213 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 10:55:04,250 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 10:55:04,308 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 10:55:05,039 WARN  o.s.b.w.s.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDataInitializer': Invocation of init method failed
2025-11-27 10:55:05,040 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 10:55:05,042 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2025-11-27 10:55:05,048 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2025-11-27 10:55:05,050 INFO  o.a.catalina.core.StandardService [main] Stopping service [Tomcat]
2025-11-27 10:55:05,058 INFO  o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-27 10:55:05,070 ERROR o.s.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDataInitializer': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:220)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:426)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1809)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at com.tiketika.Tiketika.TiketikaApplication.main(TiketikaApplication.java:11)
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: Query did not return a unique result: 2 results were returned
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:180)
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:131)
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:109)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:199)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:556)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:346)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:157)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy163.findByName(Unknown Source)
	at com.tiketika.Tiketika.common.auth.config.UserDataInitializer.init(UserDataInitializer.java:81)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:453)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:397)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:217)
	... 20 common frames omitted
Caused by: org.hibernate.NonUniqueResultException: Query did not return a unique result: 2 results were returned
	at org.hibernate.query.spi.AbstractSelectionQuery.uniqueElement(AbstractSelectionQuery.java:305)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResultOrNull(AbstractSelectionQuery.java:320)
	at jdk.internal.reflect.GeneratedMethodAccessor77.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:414)
	at jdk.proxy2/jdk.proxy2.$Proxy166.getSingleResultOrNull(Unknown Source)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:328)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:99)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:164)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:154)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:167)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	... 33 common frames omitted
2025-11-27 10:55:29,780 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 11076 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 10:55:29,784 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 10:55:29,963 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 10:55:30,528 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 10:55:30,613 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 77 ms. Found 13 JPA repository interfaces.
2025-11-27 10:55:31,265 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 10:55:31,277 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 10:55:31,279 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 10:55:31,280 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 10:55:31,338 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 1486 ms
2025-11-27 10:55:31,463 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 10:55:31,598 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f96dd64
2025-11-27 10:55:31,600 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 10:55:31,903 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 10:55:31,971 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 10:55:32,014 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 10:55:32,015 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:55:34,767 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:55:35,415 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:55:35,446 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 10:55:35,448 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:55:35,460 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 10:55:35,460 INFO  liquibase.util [main] Run:                          0
2025-11-27 10:55:35,460 INFO  liquibase.util [main] Previously run:              16
2025-11-27 10:55:35,460 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 10:55:35,460 INFO  liquibase.util [main] -------------------------------
2025-11-27 10:55:35,460 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 10:55:35,461 INFO  liquibase.util [main] Update summary generated
2025-11-27 10:55:35,462 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:55:35,521 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 10:55:35,561 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 10:55:36,024 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 10:55:36,068 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 10:55:36,078 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 10:55:37,372 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 10:55:37,414 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 10:55:37,471 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 10:55:38,184 WARN  o.s.b.w.s.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDataInitializer': Invocation of init method failed
2025-11-27 10:55:38,185 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 10:55:38,187 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2025-11-27 10:55:38,194 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2025-11-27 10:55:38,197 INFO  o.a.catalina.core.StandardService [main] Stopping service [Tomcat]
2025-11-27 10:55:38,205 INFO  o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-27 10:55:38,218 ERROR o.s.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDataInitializer': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:220)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:426)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1809)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at com.tiketika.Tiketika.TiketikaApplication.main(TiketikaApplication.java:11)
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: Query did not return a unique result: 2 results were returned
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:180)
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:131)
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:109)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:199)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:556)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:346)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:157)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy163.findByName(Unknown Source)
	at com.tiketika.Tiketika.common.auth.config.UserDataInitializer.init(UserDataInitializer.java:81)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:453)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:397)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:217)
	... 20 common frames omitted
Caused by: org.hibernate.NonUniqueResultException: Query did not return a unique result: 2 results were returned
	at org.hibernate.query.spi.AbstractSelectionQuery.uniqueElement(AbstractSelectionQuery.java:305)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResultOrNull(AbstractSelectionQuery.java:320)
	at jdk.internal.reflect.GeneratedMethodAccessor77.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:414)
	at jdk.proxy2/jdk.proxy2.$Proxy166.getSingleResultOrNull(Unknown Source)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:328)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:99)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:164)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:154)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:167)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	... 33 common frames omitted
2025-11-27 10:58:45,277 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 11509 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 10:58:45,281 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 10:58:45,486 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 10:58:46,010 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 10:58:46,100 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 82 ms. Found 13 JPA repository interfaces.
2025-11-27 10:58:46,699 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 10:58:46,714 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 10:58:46,716 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 10:58:46,716 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 10:58:46,769 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 1431 ms
2025-11-27 10:58:46,922 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 10:58:47,077 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f96dd64
2025-11-27 10:58:47,078 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 10:58:47,340 INFO  liquibase.snapshot [main] Creating snapshot
2025-11-27 10:58:47,592 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 10:58:47,603 INFO  liquibase.changelog [main] Creating database changelog table with name: ticket_db.DATABASECHANGELOG
2025-11-27 10:58:47,703 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 10:58:47,721 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 10:58:47,722 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:58:50,032 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:58:50,518 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 10:58:50,518 INFO  liquibase.command [main] Using deploymentId: 4230326900
2025-11-27 10:58:50,521 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:58:50,617 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-entity-owner.xml::8::omar
2025-11-27 10:58:50,718 INFO  liquibase.changelog [main] Table app_entity_owner created
2025-11-27 10:58:50,721 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-entity-owner.xml::8::omar ran successfully in 102ms
2025-11-27 10:58:50,746 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-kyc-detail.xml::20251125-kyc-detail-01::omar
2025-11-27 10:58:50,841 INFO  liquibase.changelog [main] Table app_kyc_detail created
2025-11-27 10:58:51,114 INFO  liquibase.changelog [main] Foreign key constraint added to app_kyc_detail (entity_owner_id)
2025-11-27 10:58:51,206 INFO  liquibase.changelog [main] Index idx_kycdetail_entity_owner created
2025-11-27 10:58:51,208 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-kyc-detail.xml::20251125-kyc-detail-01::omar ran successfully in 460ms
2025-11-27 10:58:51,255 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-user.xml::7::omar
2025-11-27 10:58:51,402 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:51,402 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:51,402 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:51,402 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:51,402 INFO  liquibase.changelog [main] Table app_user created
2025-11-27 10:58:51,480 INFO  liquibase.changelog [main] Index idx_user_email created
2025-11-27 10:58:51,552 INFO  liquibase.changelog [main] Index idx_user_phone created
2025-11-27 10:58:51,665 INFO  liquibase.changelog [main] Index idx_user_is_active created
2025-11-27 10:58:51,666 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-user.xml::7::omar ran successfully in 410ms
2025-11-27 10:58:51,683 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-user-entity.xml::10::omar
2025-11-27 10:58:51,787 INFO  liquibase.changelog [main] Table app_user_entity created
2025-11-27 10:58:51,863 INFO  liquibase.changelog [main] Index idx_user_entity_id created
2025-11-27 10:58:51,933 INFO  liquibase.changelog [main] Index idx_user_entity_type created
2025-11-27 10:58:52,001 INFO  liquibase.changelog [main] Index idx_user_entity_owner created
2025-11-27 10:58:52,361 INFO  liquibase.changelog [main] Foreign key constraint added to app_user_entity (user_id)
2025-11-27 10:58:52,733 INFO  liquibase.changelog [main] Foreign key constraint added to app_user_entity (owner_id)
2025-11-27 10:58:52,735 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-user-entity.xml::10::omar ran successfully in 1052ms
2025-11-27 10:58:52,763 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-otp.xml::1-create-otp-table::omar
2025-11-27 10:58:52,892 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:52,893 INFO  liquibase.changelog [main] Table app_otp created
2025-11-27 10:58:53,175 INFO  liquibase.changelog [main] Foreign key constraint added to app_otp (user_id)
2025-11-27 10:58:53,177 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-otp.xml::1-create-otp-table::omar ran successfully in 412ms
2025-11-27 10:58:53,204 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-image.xml::12::omar
2025-11-27 10:58:53,318 INFO  liquibase.changelog [main] Table app_image created
2025-11-27 10:58:53,399 INFO  liquibase.changelog [main] Index idx_image_id created
2025-11-27 10:58:53,466 INFO  liquibase.changelog [main] Index idx_image_entity_type created
2025-11-27 10:58:53,533 INFO  liquibase.changelog [main] Index idx_image_entity_id created
2025-11-27 10:58:53,614 INFO  liquibase.changelog [main] Index idx_image_type created
2025-11-27 10:58:53,617 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-image.xml::12::omar ran successfully in 411ms
2025-11-27 10:58:53,645 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event.xml::1::omar
2025-11-27 10:58:53,822 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:53,823 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:53,824 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:53,825 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:53,825 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:53,825 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:53,826 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:53,826 INFO  liquibase.changelog [main] Table app_event created
2025-11-27 10:58:53,895 INFO  liquibase.changelog [main] Index idx_event_id created
2025-11-27 10:58:53,987 INFO  liquibase.changelog [main] Index idx_event_name created
2025-11-27 10:58:54,067 INFO  liquibase.changelog [main] Index idx_event_subdomain created
2025-11-27 10:58:54,068 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event.xml::1::omar ran successfully in 423ms
2025-11-27 10:58:54,094 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-package.xml::3::omar
2025-11-27 10:58:54,202 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:54,203 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 10:58:54,204 INFO  liquibase.changelog [main] Table app_event_package created
2025-11-27 10:58:54,504 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_package (event_id)
2025-11-27 10:58:54,591 INFO  liquibase.changelog [main] Index idx_event_package_id created
2025-11-27 10:58:54,670 INFO  liquibase.changelog [main] Index idx_event_package_price created
2025-11-27 10:58:54,749 INFO  liquibase.changelog [main] Index idx_event_package_name created
2025-11-27 10:58:54,751 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-package.xml::3::omar ran successfully in 656ms
2025-11-27 10:58:54,770 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-message.xml::4::omar
2025-11-27 10:58:54,869 INFO  liquibase.changelog [main] Table app_event_message created
2025-11-27 10:58:55,170 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_message (event_id)
2025-11-27 10:58:55,250 INFO  liquibase.changelog [main] Index idx_event_message_id created
2025-11-27 10:58:55,346 INFO  liquibase.changelog [main] Index idx_event_message_type created
2025-11-27 10:58:55,348 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-message.xml::4::omar ran successfully in 577ms
2025-11-27 10:58:55,378 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-product.xml::5::omar
2025-11-27 10:58:55,483 INFO  liquibase.changelog [main] Table app_event_product created
2025-11-27 10:58:55,566 INFO  liquibase.changelog [main] Index idx_product_name created
2025-11-27 10:58:55,642 INFO  liquibase.changelog [main] Index idx_product_price created
2025-11-27 10:58:55,714 INFO  liquibase.changelog [main] Index idx_product_vendor_id created
2025-11-27 10:58:55,780 INFO  liquibase.changelog [main] Index idx_image_path created
2025-11-27 10:58:56,113 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_product (vendor_id)
2025-11-27 10:58:56,114 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-product.xml::5::omar ran successfully in 734ms
2025-11-27 10:58:56,130 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-booking.xml::2::omar
2025-11-27 10:58:56,230 INFO  liquibase.changelog [main] Table app_event_booking created
2025-11-27 10:58:56,487 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_booking (event_id)
2025-11-27 10:58:56,488 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-booking.xml::2::omar ran successfully in 358ms
2025-11-27 10:58:56,505 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-transaction.xml::6::omar
2025-11-27 10:58:56,589 INFO  liquibase.changelog [main] Table app_event_transaction created
2025-11-27 10:58:56,652 INFO  liquibase.changelog [main] Index idx_event_tx_id created
2025-11-27 10:58:56,717 INFO  liquibase.changelog [main] Index idx_event_tx_buyer_email created
2025-11-27 10:58:56,796 INFO  liquibase.changelog [main] Index idx_event_tx_vendor_name created
2025-11-27 10:58:56,855 INFO  liquibase.changelog [main] Index idx_event_tx_event_id created
2025-11-27 10:58:56,927 INFO  liquibase.changelog [main] Index idx_event_tx_vendor_id created
2025-11-27 10:58:57,402 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (booking_id)
2025-11-27 10:58:57,882 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (product_id)
2025-11-27 10:58:58,357 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (event_id)
2025-11-27 10:58:58,843 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (vendor_id)
2025-11-27 10:58:58,845 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-transaction.xml::6::omar ran successfully in 2340ms
2025-11-27 10:58:58,875 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-role.xml::create-table-role::omar
2025-11-27 10:58:58,996 INFO  liquibase.changelog [main] Table app_role created
2025-11-27 10:58:59,095 INFO  liquibase.changelog [main] Unique constraint added to app_role(name, entity_type)
2025-11-27 10:58:59,096 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-role.xml::create-table-role::omar ran successfully in 220ms
2025-11-27 10:58:59,120 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-permission.xml::create-table-permission::omar
2025-11-27 10:58:59,261 INFO  liquibase.changelog [main] Table app_permission created
2025-11-27 10:58:59,349 INFO  liquibase.ui [main] Duplicate index 'uk_permission_name' defined on the table 'ticket_db.app_permission'. This is deprecated and will be disallowed in a future release.
2025-11-27 10:58:59,349 INFO  liquibase.changelog [main] Unique constraint added to app_permission(name)
2025-11-27 10:58:59,349 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-permission.xml::create-table-permission::omar ran successfully in 229ms
2025-11-27 10:58:59,368 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-role-permission.xml::create-table-role-permissions::omar
2025-11-27 10:58:59,467 INFO  liquibase.changelog [main] Table app_role_permissions created
2025-11-27 10:58:59,737 INFO  liquibase.changelog [main] Foreign key constraint added to app_role_permissions (role_id)
2025-11-27 10:59:00,071 INFO  liquibase.changelog [main] Foreign key constraint added to app_role_permissions (permission_id)
2025-11-27 10:59:00,329 INFO  liquibase.changelog [main] Unique constraint added to app_role_permissions(role_id, permission_id)
2025-11-27 10:59:00,331 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-role-permission.xml::create-table-role-permissions::omar ran successfully in 963ms
2025-11-27 10:59:00,356 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-user-entity-role.xml::add-user-entity-roles-table::omar
2025-11-27 10:59:00,463 INFO  liquibase.changelog [main] Table user_entity_roles created
2025-11-27 10:59:00,661 INFO  liquibase.changelog [main] Primary key added to user_entity_roles (user_entity_id, role_id)
2025-11-27 10:59:00,931 INFO  liquibase.changelog [main] Foreign key constraint added to user_entity_roles (user_entity_id)
2025-11-27 10:59:01,229 INFO  liquibase.changelog [main] Foreign key constraint added to user_entity_roles (role_id)
2025-11-27 10:59:01,331 INFO  liquibase.changelog [main] Index idx_user_entity_roles_user created
2025-11-27 10:59:01,425 INFO  liquibase.changelog [main] Index idx_user_entity_roles_role created
2025-11-27 10:59:01,427 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-user-entity-role.xml::add-user-entity-roles-table::omar ran successfully in 1070ms
2025-11-27 10:59:01,461 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 10:59:01,462 INFO  liquibase.util [main] Run:                         16
2025-11-27 10:59:01,462 INFO  liquibase.util [main] Previously run:               0
2025-11-27 10:59:01,462 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 10:59:01,462 INFO  liquibase.util [main] -------------------------------
2025-11-27 10:59:01,462 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 10:59:01,464 INFO  liquibase.util [main] Update summary generated
2025-11-27 10:59:01,469 INFO  liquibase.command [main] Update command completed successfully.
2025-11-27 10:59:01,469 INFO  liquibase.ui [main] Liquibase: Update has been successful. Rows affected: 0
2025-11-27 10:59:01,488 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 10:59:01,489 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:59:01,574 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 10:59:01,628 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 10:59:02,117 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 10:59:02,168 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 10:59:02,180 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 10:59:03,995 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 10:59:04,046 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 10:59:04,112 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 10:59:05,823 WARN  o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-27 10:59:05,911 INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customerUserDetailsService
2025-11-27 10:59:06,068 DEBUG o.s.s.web.DefaultSecurityFilterChain [main] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtRequestFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 10:59:06,186 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [main] 23 mappings in 'requestMappingHandlerMapping'
2025-11-27 10:59:06,224 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-27 10:59:06,273 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-27 10:59:06,358 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-27 10:59:10,553 INFO  o.a.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2025-11-27 10:59:10,566 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/api'
2025-11-27 10:59:10,573 INFO  c.t.Tiketika.TiketikaApplication [main] Started TiketikaApplication in 25.978 seconds (process running for 26.392)
2025-11-27 10:59:23,159 INFO  o.s.boot.tomcat.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 10:59:23,164 INFO  o.s.boot.tomcat.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-11-27 10:59:23,169 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 10:59:23,171 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-11-27 10:59:23,177 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-11-27 10:59:26,450 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 11764 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 10:59:26,453 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 10:59:26,629 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 10:59:27,142 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 10:59:27,233 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 82 ms. Found 13 JPA repository interfaces.
2025-11-27 10:59:27,842 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 10:59:27,856 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 10:59:27,858 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 10:59:27,858 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 10:59:27,931 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 1436 ms
2025-11-27 10:59:28,072 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 10:59:28,217 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f96dd64
2025-11-27 10:59:28,218 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 10:59:28,572 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 10:59:28,647 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 10:59:28,718 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 10:59:28,719 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:59:30,792 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:59:31,459 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:59:31,486 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 10:59:31,488 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 10:59:31,509 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 10:59:31,509 INFO  liquibase.util [main] Run:                          0
2025-11-27 10:59:31,509 INFO  liquibase.util [main] Previously run:              16
2025-11-27 10:59:31,509 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 10:59:31,510 INFO  liquibase.util [main] -------------------------------
2025-11-27 10:59:31,510 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 10:59:31,511 INFO  liquibase.util [main] Update summary generated
2025-11-27 10:59:31,511 INFO  liquibase.command [main] Command execution complete
2025-11-27 10:59:31,583 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 10:59:31,630 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 10:59:32,058 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 10:59:32,101 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 10:59:32,111 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 10:59:33,376 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 10:59:33,411 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 10:59:33,475 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 10:59:34,382 WARN  o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-27 10:59:34,491 INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customerUserDetailsService
2025-11-27 10:59:34,667 DEBUG o.s.s.web.DefaultSecurityFilterChain [main] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtRequestFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 10:59:34,785 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [main] 23 mappings in 'requestMappingHandlerMapping'
2025-11-27 10:59:34,814 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-27 10:59:34,844 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-27 10:59:34,905 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-27 10:59:38,902 INFO  o.a.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2025-11-27 10:59:38,916 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/api'
2025-11-27 10:59:38,923 INFO  c.t.Tiketika.TiketikaApplication [main] Started TiketikaApplication in 13.149 seconds (process running for 13.574)
2025-11-27 10:59:52,888 INFO  o.a.c.c.C.[.[localhost].[/api] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-27 10:59:52,889 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2025-11-27 10:59:52,889 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected StandardServletMultipartResolver
2025-11-27 10:59:52,890 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected AcceptHeaderLocaleResolver
2025-11-27 10:59:52,892 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@766c225c
2025-11-27 10:59:52,892 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected org.springframework.web.servlet.support.SessionFlashMapManager@37de86e1
2025-11-27 10:59:52,893 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-27 10:59:52,893 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed initialization in 4 ms
2025-11-27 10:59:52,904 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing POST /auth/login
2025-11-27 10:59:52,913 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-2] Secured POST /auth/login
2025-11-27 10:59:52,915 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] POST "/api/auth/login", parameters={}
2025-11-27 10:59:52,920 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [http-nio-8080-exec-2] Mapped to com.tiketika.Tiketika.common.auth.controller.command.AuthController#login(LoginRequest)
2025-11-27 10:59:53,004 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [http-nio-8080-exec-2] Read "application/json;charset=UTF-8" to [com.tiketika.Tiketika.common.auth.dto.command.LoginRequest@3f7234be]
2025-11-27 10:59:53,144 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-2] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27 10:59:53,145 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-2] Writing [{token=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiU1VQRVJfQURNSU4iLCJzdWIiOiJzdXBlckBrdXphLmNvbSIsImlhdCI6MTc2 (truncated)...]
2025-11-27 10:59:53,170 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed 200 OK
2025-11-27 10:59:53,172 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 11:01:12,259 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing POST /admin/roles
2025-11-27 11:01:12,289 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-5] Secured POST /admin/roles
2025-11-27 11:01:12,289 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-5] POST "/api/admin/roles", parameters={}
2025-11-27 11:01:12,290 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [http-nio-8080-exec-5] Mapped to com.tiketika.Tiketika.common.auth.controller.command.RolePermissionCommandController#createRole(CreateRoleRequest)
2025-11-27 11:01:12,310 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [http-nio-8080-exec-5] Read "application/json;charset=UTF-8" to [CreateRoleRequest[name=CUSTOMER, entityType=BUSES, permissionIds=null]]
2025-11-27 11:01:12,376 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-5] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27 11:01:12,376 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-5] Writing [com.tiketika.Tiketika.common.auth.entities.Role@5e60e1ad]
2025-11-27 11:01:12,401 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-5] Completed 201 CREATED
2025-11-27 11:08:51,359 INFO  o.s.boot.tomcat.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 11:08:51,362 INFO  o.s.boot.tomcat.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-11-27 11:08:51,367 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 11:08:51,369 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-11-27 11:08:51,377 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-11-27 11:08:54,747 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 12059 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 11:08:54,751 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 11:08:54,883 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 11:08:55,490 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 11:08:55,591 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 91 ms. Found 13 JPA repository interfaces.
2025-11-27 11:08:56,185 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 11:08:56,197 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 11:08:56,199 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 11:08:56,199 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 11:08:56,248 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 1435 ms
2025-11-27 11:08:56,373 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 11:08:56,527 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@73d62b5
2025-11-27 11:08:56,528 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 11:08:56,730 INFO  liquibase.snapshot [main] Creating snapshot
2025-11-27 11:08:56,981 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 11:08:56,990 INFO  liquibase.changelog [main] Creating database changelog table with name: ticket_db.DATABASECHANGELOG
2025-11-27 11:08:57,099 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 11:08:57,120 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 11:08:57,122 INFO  liquibase.command [main] Command execution complete
2025-11-27 11:08:59,516 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 11:08:59,894 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 11:08:59,895 INFO  liquibase.command [main] Using deploymentId: 4230936358
2025-11-27 11:08:59,897 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 11:08:59,986 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-entity-owner.xml::8::omar
2025-11-27 11:09:00,094 INFO  liquibase.changelog [main] Table app_entity_owner created
2025-11-27 11:09:00,102 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-entity-owner.xml::8::omar ran successfully in 110ms
2025-11-27 11:09:00,156 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-kyc-detail.xml::20251125-kyc-detail-01::omar
2025-11-27 11:09:00,276 INFO  liquibase.changelog [main] Table app_kyc_detail created
2025-11-27 11:09:00,807 INFO  liquibase.changelog [main] Foreign key constraint added to app_kyc_detail (entity_owner_id)
2025-11-27 11:09:00,899 INFO  liquibase.changelog [main] Index idx_kycdetail_entity_owner created
2025-11-27 11:09:00,901 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-kyc-detail.xml::20251125-kyc-detail-01::omar ran successfully in 744ms
2025-11-27 11:09:00,953 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-user.xml::7::omar
2025-11-27 11:09:01,152 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:01,153 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:01,153 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:01,154 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:01,154 INFO  liquibase.changelog [main] Table app_user created
2025-11-27 11:09:01,251 INFO  liquibase.changelog [main] Index idx_user_email created
2025-11-27 11:09:01,345 INFO  liquibase.changelog [main] Index idx_user_phone created
2025-11-27 11:09:01,449 INFO  liquibase.changelog [main] Index idx_user_is_active created
2025-11-27 11:09:01,451 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-user.xml::7::omar ran successfully in 496ms
2025-11-27 11:09:01,483 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-user-entity.xml::10::omar
2025-11-27 11:09:01,603 INFO  liquibase.changelog [main] Table app_user_entity created
2025-11-27 11:09:01,682 INFO  liquibase.changelog [main] Index idx_user_entity_id created
2025-11-27 11:09:01,761 INFO  liquibase.changelog [main] Index idx_user_entity_type created
2025-11-27 11:09:01,839 INFO  liquibase.changelog [main] Index idx_user_entity_owner created
2025-11-27 11:09:02,201 INFO  liquibase.changelog [main] Foreign key constraint added to app_user_entity (user_id)
2025-11-27 11:09:02,595 INFO  liquibase.changelog [main] Foreign key constraint added to app_user_entity (owner_id)
2025-11-27 11:09:02,597 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-user-entity.xml::10::omar ran successfully in 1113ms
2025-11-27 11:09:02,630 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-otp.xml::1-create-otp-table::omar
2025-11-27 11:09:02,777 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:02,778 INFO  liquibase.changelog [main] Table app_otp created
2025-11-27 11:09:03,069 INFO  liquibase.changelog [main] Foreign key constraint added to app_otp (user_id)
2025-11-27 11:09:03,072 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-otp.xml::1-create-otp-table::omar ran successfully in 440ms
2025-11-27 11:09:03,098 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-image.xml::12::omar
2025-11-27 11:09:03,228 INFO  liquibase.changelog [main] Table app_image created
2025-11-27 11:09:03,282 INFO  liquibase.changelog [main] Index idx_image_id created
2025-11-27 11:09:03,348 INFO  liquibase.changelog [main] Index idx_image_entity_type created
2025-11-27 11:09:03,453 INFO  liquibase.changelog [main] Index idx_image_entity_id created
2025-11-27 11:09:03,548 INFO  liquibase.changelog [main] Index idx_image_type created
2025-11-27 11:09:03,550 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-image.xml::12::omar ran successfully in 451ms
2025-11-27 11:09:03,580 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event.xml::1::omar
2025-11-27 11:09:03,707 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:03,707 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:03,707 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:03,707 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:03,708 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:03,708 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:03,708 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:03,708 INFO  liquibase.changelog [main] Table app_event created
2025-11-27 11:09:03,808 INFO  liquibase.changelog [main] Index idx_event_id created
2025-11-27 11:09:03,904 INFO  liquibase.changelog [main] Index idx_event_name created
2025-11-27 11:09:04,002 INFO  liquibase.changelog [main] Index idx_event_subdomain created
2025-11-27 11:09:04,004 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event.xml::1::omar ran successfully in 423ms
2025-11-27 11:09:04,037 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-package.xml::3::omar
2025-11-27 11:09:04,146 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:04,147 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:09:04,147 INFO  liquibase.changelog [main] Table app_event_package created
2025-11-27 11:09:04,461 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_package (event_id)
2025-11-27 11:09:04,550 INFO  liquibase.changelog [main] Index idx_event_package_id created
2025-11-27 11:09:04,620 INFO  liquibase.changelog [main] Index idx_event_package_price created
2025-11-27 11:09:04,704 INFO  liquibase.changelog [main] Index idx_event_package_name created
2025-11-27 11:09:04,706 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-package.xml::3::omar ran successfully in 667ms
2025-11-27 11:09:04,731 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-message.xml::4::omar
2025-11-27 11:09:04,824 INFO  liquibase.changelog [main] Table app_event_message created
2025-11-27 11:09:05,109 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_message (event_id)
2025-11-27 11:09:05,196 INFO  liquibase.changelog [main] Index idx_event_message_id created
2025-11-27 11:09:05,281 INFO  liquibase.changelog [main] Index idx_event_message_type created
2025-11-27 11:09:05,283 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-message.xml::4::omar ran successfully in 551ms
2025-11-27 11:09:05,316 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-product.xml::5::omar
2025-11-27 11:09:05,491 INFO  liquibase.changelog [main] Table app_event_product created
2025-11-27 11:09:05,581 INFO  liquibase.changelog [main] Index idx_product_name created
2025-11-27 11:09:05,663 INFO  liquibase.changelog [main] Index idx_product_price created
2025-11-27 11:09:05,779 INFO  liquibase.changelog [main] Index idx_product_vendor_id created
2025-11-27 11:09:05,866 INFO  liquibase.changelog [main] Index idx_image_path created
2025-11-27 11:09:06,187 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_product (vendor_id)
2025-11-27 11:09:06,189 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-product.xml::5::omar ran successfully in 872ms
2025-11-27 11:09:06,214 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-booking.xml::2::omar
2025-11-27 11:09:06,327 INFO  liquibase.changelog [main] Table app_event_booking created
2025-11-27 11:09:06,639 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_booking (event_id)
2025-11-27 11:09:06,641 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-booking.xml::2::omar ran successfully in 425ms
2025-11-27 11:09:06,670 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-transaction.xml::6::omar
2025-11-27 11:09:06,775 INFO  liquibase.changelog [main] Table app_event_transaction created
2025-11-27 11:09:06,838 INFO  liquibase.changelog [main] Index idx_event_tx_id created
2025-11-27 11:09:06,928 INFO  liquibase.changelog [main] Index idx_event_tx_buyer_email created
2025-11-27 11:09:07,015 INFO  liquibase.changelog [main] Index idx_event_tx_vendor_name created
2025-11-27 11:09:07,102 INFO  liquibase.changelog [main] Index idx_event_tx_event_id created
2025-11-27 11:09:07,185 INFO  liquibase.changelog [main] Index idx_event_tx_vendor_id created
2025-11-27 11:09:07,649 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (booking_id)
2025-11-27 11:09:08,118 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (product_id)
2025-11-27 11:09:08,739 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (event_id)
2025-11-27 11:09:09,211 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (vendor_id)
2025-11-27 11:09:09,213 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-transaction.xml::6::omar ran successfully in 2542ms
2025-11-27 11:09:09,237 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-role.xml::create-table-role::omar
2025-11-27 11:09:09,334 INFO  liquibase.changelog [main] Table app_role created
2025-11-27 11:09:09,432 INFO  liquibase.changelog [main] Unique constraint added to app_role(name, entity_type)
2025-11-27 11:09:09,434 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-role.xml::create-table-role::omar ran successfully in 196ms
2025-11-27 11:09:09,469 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-permission.xml::create-table-permission::omar
2025-11-27 11:09:09,599 INFO  liquibase.changelog [main] Table app_permission created
2025-11-27 11:09:09,663 INFO  liquibase.ui [main] Duplicate index 'uk_permission_name' defined on the table 'ticket_db.app_permission'. This is deprecated and will be disallowed in a future release.
2025-11-27 11:09:09,663 INFO  liquibase.changelog [main] Unique constraint added to app_permission(name)
2025-11-27 11:09:09,664 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-permission.xml::create-table-permission::omar ran successfully in 193ms
2025-11-27 11:09:09,679 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-role-permission.xml::create-table-role-permissions::omar
2025-11-27 11:09:09,826 INFO  liquibase.changelog [main] Table app_role_permissions created
2025-11-27 11:09:10,115 INFO  liquibase.changelog [main] Foreign key constraint added to app_role_permissions (role_id)
2025-11-27 11:09:10,485 INFO  liquibase.changelog [main] Foreign key constraint added to app_role_permissions (permission_id)
2025-11-27 11:09:10,712 INFO  liquibase.changelog [main] Unique constraint added to app_role_permissions(role_id, permission_id)
2025-11-27 11:09:10,714 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-role-permission.xml::create-table-role-permissions::omar ran successfully in 1034ms
2025-11-27 11:09:10,746 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-user-entity-role.xml::add-user-entity-roles-table::omar
2025-11-27 11:09:11,636 INFO  liquibase.changelog [main] Table user_entity_roles created
2025-11-27 11:09:11,825 INFO  liquibase.changelog [main] Primary key added to user_entity_roles (user_entity_id, role_id)
2025-11-27 11:09:12,095 INFO  liquibase.changelog [main] Foreign key constraint added to user_entity_roles (user_entity_id)
2025-11-27 11:09:12,386 INFO  liquibase.changelog [main] Foreign key constraint added to user_entity_roles (role_id)
2025-11-27 11:09:12,498 INFO  liquibase.changelog [main] Index idx_user_entity_roles_user created
2025-11-27 11:09:12,600 INFO  liquibase.changelog [main] Index idx_user_entity_roles_role created
2025-11-27 11:09:12,602 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-user-entity-role.xml::add-user-entity-roles-table::omar ran successfully in 1855ms
2025-11-27 11:09:12,684 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 11:09:12,685 INFO  liquibase.util [main] Run:                         16
2025-11-27 11:09:12,686 INFO  liquibase.util [main] Previously run:               0
2025-11-27 11:09:12,686 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 11:09:12,687 INFO  liquibase.util [main] -------------------------------
2025-11-27 11:09:12,687 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 11:09:12,690 INFO  liquibase.util [main] Update summary generated
2025-11-27 11:09:12,697 INFO  liquibase.command [main] Update command completed successfully.
2025-11-27 11:09:12,698 INFO  liquibase.ui [main] Liquibase: Update has been successful. Rows affected: 0
2025-11-27 11:09:12,722 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 11:09:12,723 INFO  liquibase.command [main] Command execution complete
2025-11-27 11:09:12,794 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 11:09:12,855 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 11:09:13,243 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 11:09:13,290 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 11:09:13,302 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 11:09:14,593 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 11:09:14,634 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 11:09:14,691 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 11:09:16,514 WARN  o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-27 11:09:16,596 INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customerUserDetailsService
2025-11-27 11:09:16,724 DEBUG o.s.s.web.DefaultSecurityFilterChain [main] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtRequestFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 11:09:16,829 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [main] 23 mappings in 'requestMappingHandlerMapping'
2025-11-27 11:09:16,857 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-27 11:09:16,886 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-27 11:09:16,929 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-27 11:09:21,650 INFO  o.a.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2025-11-27 11:09:21,663 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/api'
2025-11-27 11:09:21,670 INFO  c.t.Tiketika.TiketikaApplication [main] Started TiketikaApplication in 27.612 seconds (process running for 28.027)
2025-11-27 11:09:37,689 INFO  o.a.c.c.C.[.[localhost].[/api] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-27 11:09:37,689 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2025-11-27 11:09:37,689 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Detected StandardServletMultipartResolver
2025-11-27 11:09:37,689 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Detected AcceptHeaderLocaleResolver
2025-11-27 11:09:37,691 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@77db957b
2025-11-27 11:09:37,691 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Detected org.springframework.web.servlet.support.SessionFlashMapManager@31f575aa
2025-11-27 11:09:37,691 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-27 11:09:37,692 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
2025-11-27 11:09:37,703 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing POST /auth/login
2025-11-27 11:09:37,713 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-1] Secured POST /auth/login
2025-11-27 11:09:37,715 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] POST "/api/auth/login", parameters={}
2025-11-27 11:09:37,722 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [http-nio-8080-exec-1] Mapped to com.tiketika.Tiketika.common.auth.controller.command.AuthController#login(LoginRequest)
2025-11-27 11:09:37,820 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [http-nio-8080-exec-1] Read "application/json;charset=UTF-8" to [com.tiketika.Tiketika.common.auth.dto.command.LoginRequest@119d74ce]
2025-11-27 11:09:38,007 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-1] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27 11:09:38,008 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-1] Writing [{token=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiU1VQRVJfQURNSU4iLCJzdWIiOiJzdXBlckBrdXphLmNvbSIsImlhdCI6MTc2 (truncated)...]
2025-11-27 11:09:38,046 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed 200 OK
2025-11-27 11:09:38,048 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 11:10:15,571 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing POST /admin/roles
2025-11-27 11:10:15,603 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-3] Secured POST /admin/roles
2025-11-27 11:10:15,603 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-3] POST "/api/admin/roles", parameters={}
2025-11-27 11:10:15,604 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [http-nio-8080-exec-3] Mapped to com.tiketika.Tiketika.common.auth.controller.command.RolePermissionCommandController#createRole(CreateRoleRequest)
2025-11-27 11:10:15,623 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [http-nio-8080-exec-3] Read "application/json;charset=UTF-8" to [CreateRoleRequest[name=CUSTOMER, entityType=BUSES, permissionIds=null]]
2025-11-27 11:10:15,662 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-3] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27 11:10:15,663 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-3] Writing [com.tiketika.Tiketika.common.auth.entities.Role@40e4708]
2025-11-27 11:10:15,683 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-3] Completed 201 CREATED
2025-11-27 11:11:34,014 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing PUT /admin/roles/4
2025-11-27 11:11:34,021 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-6] Secured PUT /admin/roles/4
2025-11-27 11:11:34,022 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-6] PUT "/api/admin/roles/4", parameters={}
2025-11-27 11:11:34,022 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [http-nio-8080-exec-6] Mapped to com.tiketika.Tiketika.common.auth.controller.command.RolePermissionCommandController#updateRole(Long, String)
2025-11-27 11:11:34,025 DEBUG o.s.web.method.HandlerMethod [http-nio-8080-exec-6] Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<com.tiketika.Tiketika.common.auth.entities.Role> com.tiketika.Tiketika.common.auth.controller.command.RolePermissionCommandController.updateRole(java.lang.Long,java.lang.String): Required request parameter 'newName' for method parameter type String is not present
2025-11-27 11:11:34,029 WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver [http-nio-8080-exec-6] Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'newName' for method parameter type String is not present]
2025-11-27 11:11:34,030 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-6] Completed 400 BAD_REQUEST
2025-11-27 11:11:34,033 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /error
2025-11-27 11:11:34,034 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-6] Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 11:11:34,042 DEBUG o.s.s.w.s.HttpSessionRequestCache [http-nio-8080-exec-6] Saved request http://localhost:8080/api/error?continue to session
2025-11-27 11:11:34,043 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-6] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-11-27 11:11:34,043 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-6] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@3149ea11
2025-11-27 11:12:49,882 INFO  o.s.boot.tomcat.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 11:12:49,885 INFO  o.s.boot.tomcat.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-11-27 11:12:49,895 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 11:12:49,898 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-11-27 11:12:49,908 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-11-27 11:15:20,302 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 12442 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 11:15:20,306 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 11:15:20,470 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 11:15:21,039 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 11:15:21,124 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 76 ms. Found 13 JPA repository interfaces.
2025-11-27 11:15:21,703 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 11:15:21,714 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 11:15:21,715 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 11:15:21,716 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 11:15:21,762 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 1393 ms
2025-11-27 11:15:21,884 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 11:15:22,024 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@677349fb
2025-11-27 11:15:22,026 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 11:15:22,349 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 11:15:22,421 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 11:15:22,477 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 11:15:22,478 INFO  liquibase.command [main] Command execution complete
2025-11-27 11:15:27,069 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 11:15:27,658 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 11:15:27,683 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 11:15:27,685 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 11:15:27,697 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 11:15:27,697 INFO  liquibase.util [main] Run:                          0
2025-11-27 11:15:27,697 INFO  liquibase.util [main] Previously run:              16
2025-11-27 11:15:27,697 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 11:15:27,697 INFO  liquibase.util [main] -------------------------------
2025-11-27 11:15:27,697 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 11:15:27,698 INFO  liquibase.util [main] Update summary generated
2025-11-27 11:15:27,698 INFO  liquibase.command [main] Command execution complete
2025-11-27 11:15:27,766 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 11:15:27,810 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 11:15:28,257 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 11:15:28,304 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 11:15:28,315 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 11:15:29,848 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 11:15:29,902 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 11:15:29,960 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 11:15:30,725 WARN  o.s.b.w.s.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDataInitializer': Invocation of init method failed
2025-11-27 11:15:30,726 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 11:15:30,729 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2025-11-27 11:15:30,735 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2025-11-27 11:15:30,737 INFO  o.a.catalina.core.StandardService [main] Stopping service [Tomcat]
2025-11-27 11:15:30,745 INFO  o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-27 11:15:30,755 ERROR o.s.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDataInitializer': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:220)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:426)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1809)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at com.tiketika.Tiketika.TiketikaApplication.main(TiketikaApplication.java:11)
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: Query did not return a unique result: 2 results were returned
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:180)
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:131)
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:109)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:199)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:556)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:346)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:157)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy163.findByName(Unknown Source)
	at com.tiketika.Tiketika.common.auth.config.UserDataInitializer.init(UserDataInitializer.java:81)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:453)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:397)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:217)
	... 20 common frames omitted
Caused by: org.hibernate.NonUniqueResultException: Query did not return a unique result: 2 results were returned
	at org.hibernate.query.spi.AbstractSelectionQuery.uniqueElement(AbstractSelectionQuery.java:305)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResultOrNull(AbstractSelectionQuery.java:320)
	at jdk.internal.reflect.GeneratedMethodAccessor77.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:414)
	at jdk.proxy2/jdk.proxy2.$Proxy166.getSingleResultOrNull(Unknown Source)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:328)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:99)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:164)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:154)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:167)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	... 33 common frames omitted
2025-11-27 11:17:13,413 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 12600 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 11:17:13,418 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 11:17:13,602 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 11:17:14,197 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 11:17:14,281 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 76 ms. Found 13 JPA repository interfaces.
2025-11-27 11:17:15,107 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 11:17:15,122 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 11:17:15,124 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 11:17:15,124 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 11:17:15,178 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 1694 ms
2025-11-27 11:17:15,296 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 11:17:15,425 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5e2a6991
2025-11-27 11:17:15,426 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 11:17:15,704 INFO  liquibase.snapshot [main] Creating snapshot
2025-11-27 11:17:15,947 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 11:17:15,955 INFO  liquibase.changelog [main] Creating database changelog table with name: ticket_db.DATABASECHANGELOG
2025-11-27 11:17:16,082 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 11:17:16,113 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 11:17:16,115 INFO  liquibase.command [main] Command execution complete
2025-11-27 11:17:20,353 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 11:17:20,734 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 11:17:20,735 INFO  liquibase.command [main] Using deploymentId: 4231435281
2025-11-27 11:17:20,737 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 11:17:20,819 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-entity-owner.xml::8::omar
2025-11-27 11:17:20,934 INFO  liquibase.changelog [main] Table app_entity_owner created
2025-11-27 11:17:20,938 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-entity-owner.xml::8::omar ran successfully in 115ms
2025-11-27 11:17:20,971 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-kyc-detail.xml::20251125-kyc-detail-01::omar
2025-11-27 11:17:21,083 INFO  liquibase.changelog [main] Table app_kyc_detail created
2025-11-27 11:17:21,488 INFO  liquibase.changelog [main] Foreign key constraint added to app_kyc_detail (entity_owner_id)
2025-11-27 11:17:21,740 INFO  liquibase.changelog [main] Index idx_kycdetail_entity_owner created
2025-11-27 11:17:21,740 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-kyc-detail.xml::20251125-kyc-detail-01::omar ran successfully in 768ms
2025-11-27 11:17:21,787 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-user.xml::7::omar
2025-11-27 11:17:22,215 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:22,216 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:22,217 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:22,217 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:22,218 INFO  liquibase.changelog [main] Table app_user created
2025-11-27 11:17:22,334 INFO  liquibase.changelog [main] Index idx_user_email created
2025-11-27 11:17:22,416 INFO  liquibase.changelog [main] Index idx_user_phone created
2025-11-27 11:17:22,526 INFO  liquibase.changelog [main] Index idx_user_is_active created
2025-11-27 11:17:22,528 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-user.xml::7::omar ran successfully in 740ms
2025-11-27 11:17:22,555 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-user-entity.xml::10::omar
2025-11-27 11:17:22,662 INFO  liquibase.changelog [main] Table app_user_entity created
2025-11-27 11:17:22,745 INFO  liquibase.changelog [main] Index idx_user_entity_id created
2025-11-27 11:17:22,804 INFO  liquibase.changelog [main] Index idx_user_entity_type created
2025-11-27 11:17:22,882 INFO  liquibase.changelog [main] Index idx_user_entity_owner created
2025-11-27 11:17:23,196 INFO  liquibase.changelog [main] Foreign key constraint added to app_user_entity (user_id)
2025-11-27 11:17:23,576 INFO  liquibase.changelog [main] Foreign key constraint added to app_user_entity (owner_id)
2025-11-27 11:17:23,578 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-user-entity.xml::10::omar ran successfully in 1022ms
2025-11-27 11:17:23,606 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-otp.xml::1-create-otp-table::omar
2025-11-27 11:17:23,742 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:23,743 INFO  liquibase.changelog [main] Table app_otp created
2025-11-27 11:17:24,038 INFO  liquibase.changelog [main] Foreign key constraint added to app_otp (user_id)
2025-11-27 11:17:24,040 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-otp.xml::1-create-otp-table::omar ran successfully in 433ms
2025-11-27 11:17:24,068 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-image.xml::12::omar
2025-11-27 11:17:24,187 INFO  liquibase.changelog [main] Table app_image created
2025-11-27 11:17:24,253 INFO  liquibase.changelog [main] Index idx_image_id created
2025-11-27 11:17:24,318 INFO  liquibase.changelog [main] Index idx_image_entity_type created
2025-11-27 11:17:24,385 INFO  liquibase.changelog [main] Index idx_image_entity_id created
2025-11-27 11:17:24,488 INFO  liquibase.changelog [main] Index idx_image_type created
2025-11-27 11:17:24,491 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-image.xml::12::omar ran successfully in 421ms
2025-11-27 11:17:24,519 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event.xml::1::omar
2025-11-27 11:17:24,651 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:24,652 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:24,653 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:24,653 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:24,653 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:24,654 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:24,654 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:24,654 INFO  liquibase.changelog [main] Table app_event created
2025-11-27 11:17:24,739 INFO  liquibase.changelog [main] Index idx_event_id created
2025-11-27 11:17:24,853 INFO  liquibase.changelog [main] Index idx_event_name created
2025-11-27 11:17:24,943 INFO  liquibase.changelog [main] Index idx_event_subdomain created
2025-11-27 11:17:24,945 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event.xml::1::omar ran successfully in 425ms
2025-11-27 11:17:24,982 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-package.xml::3::omar
2025-11-27 11:17:25,104 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:25,104 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 11:17:25,104 INFO  liquibase.changelog [main] Table app_event_package created
2025-11-27 11:17:25,370 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_package (event_id)
2025-11-27 11:17:25,430 INFO  liquibase.changelog [main] Index idx_event_package_id created
2025-11-27 11:17:25,500 INFO  liquibase.changelog [main] Index idx_event_package_price created
2025-11-27 11:17:25,569 INFO  liquibase.changelog [main] Index idx_event_package_name created
2025-11-27 11:17:25,570 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-package.xml::3::omar ran successfully in 587ms
2025-11-27 11:17:25,593 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-message.xml::4::omar
2025-11-27 11:17:25,689 INFO  liquibase.changelog [main] Table app_event_message created
2025-11-27 11:17:25,976 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_message (event_id)
2025-11-27 11:17:26,058 INFO  liquibase.changelog [main] Index idx_event_message_id created
2025-11-27 11:17:26,144 INFO  liquibase.changelog [main] Index idx_event_message_type created
2025-11-27 11:17:26,145 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-message.xml::4::omar ran successfully in 551ms
2025-11-27 11:17:26,161 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-product.xml::5::omar
2025-11-27 11:17:26,297 INFO  liquibase.changelog [main] Table app_event_product created
2025-11-27 11:17:26,376 INFO  liquibase.changelog [main] Index idx_product_name created
2025-11-27 11:17:26,469 INFO  liquibase.changelog [main] Index idx_product_price created
2025-11-27 11:17:26,553 INFO  liquibase.changelog [main] Index idx_product_vendor_id created
2025-11-27 11:17:26,635 INFO  liquibase.changelog [main] Index idx_image_path created
2025-11-27 11:17:26,982 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_product (vendor_id)
2025-11-27 11:17:26,984 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-product.xml::5::omar ran successfully in 822ms
2025-11-27 11:17:27,011 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-booking.xml::2::omar
2025-11-27 11:17:27,111 INFO  liquibase.changelog [main] Table app_event_booking created
2025-11-27 11:17:27,425 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_booking (event_id)
2025-11-27 11:17:27,428 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-booking.xml::2::omar ran successfully in 416ms
2025-11-27 11:17:27,467 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-transaction.xml::6::omar
2025-11-27 11:17:27,586 INFO  liquibase.changelog [main] Table app_event_transaction created
2025-11-27 11:17:27,657 INFO  liquibase.changelog [main] Index idx_event_tx_id created
2025-11-27 11:17:27,724 INFO  liquibase.changelog [main] Index idx_event_tx_buyer_email created
2025-11-27 11:17:27,795 INFO  liquibase.changelog [main] Index idx_event_tx_vendor_name created
2025-11-27 11:17:27,872 INFO  liquibase.changelog [main] Index idx_event_tx_event_id created
2025-11-27 11:17:27,956 INFO  liquibase.changelog [main] Index idx_event_tx_vendor_id created
2025-11-27 11:17:28,378 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (booking_id)
2025-11-27 11:17:28,831 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (product_id)
2025-11-27 11:17:29,259 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (event_id)
2025-11-27 11:17:29,778 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (vendor_id)
2025-11-27 11:17:29,780 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-transaction.xml::6::omar ran successfully in 2312ms
2025-11-27 11:17:29,806 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-role.xml::create-table-role::omar
2025-11-27 11:17:29,902 INFO  liquibase.changelog [main] Table app_role created
2025-11-27 11:17:29,978 INFO  liquibase.changelog [main] Unique constraint added to app_role(name, entity_type)
2025-11-27 11:17:29,980 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-role.xml::create-table-role::omar ran successfully in 173ms
2025-11-27 11:17:30,016 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-permission.xml::create-table-permission::omar
2025-11-27 11:17:30,159 INFO  liquibase.changelog [main] Table app_permission created
2025-11-27 11:17:30,229 INFO  liquibase.ui [main] Duplicate index 'uk_permission_name' defined on the table 'ticket_db.app_permission'. This is deprecated and will be disallowed in a future release.
2025-11-27 11:17:30,229 INFO  liquibase.changelog [main] Unique constraint added to app_permission(name)
2025-11-27 11:17:30,230 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-permission.xml::create-table-permission::omar ran successfully in 213ms
2025-11-27 11:17:30,248 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-role-permission.xml::create-table-role-permissions::omar
2025-11-27 11:17:30,355 INFO  liquibase.changelog [main] Table app_role_permissions created
2025-11-27 11:17:30,681 INFO  liquibase.changelog [main] Foreign key constraint added to app_role_permissions (role_id)
2025-11-27 11:17:30,978 INFO  liquibase.changelog [main] Foreign key constraint added to app_role_permissions (permission_id)
2025-11-27 11:17:31,201 INFO  liquibase.changelog [main] Unique constraint added to app_role_permissions(role_id, permission_id)
2025-11-27 11:17:31,202 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-role-permission.xml::create-table-role-permissions::omar ran successfully in 953ms
2025-11-27 11:17:31,218 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-user-entity-role.xml::add-user-entity-roles-table::omar
2025-11-27 11:17:31,326 INFO  liquibase.changelog [main] Table user_entity_roles created
2025-11-27 11:17:31,556 INFO  liquibase.changelog [main] Primary key added to user_entity_roles (user_entity_id, role_id)
2025-11-27 11:17:31,803 INFO  liquibase.changelog [main] Foreign key constraint added to user_entity_roles (user_entity_id)
2025-11-27 11:17:32,094 INFO  liquibase.changelog [main] Foreign key constraint added to user_entity_roles (role_id)
2025-11-27 11:17:32,159 INFO  liquibase.changelog [main] Index idx_user_entity_roles_user created
2025-11-27 11:17:32,238 INFO  liquibase.changelog [main] Index idx_user_entity_roles_role created
2025-11-27 11:17:32,239 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-user-entity-role.xml::add-user-entity-roles-table::omar ran successfully in 1020ms
2025-11-27 11:17:32,259 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 11:17:32,259 INFO  liquibase.util [main] Run:                         16
2025-11-27 11:17:32,259 INFO  liquibase.util [main] Previously run:               0
2025-11-27 11:17:32,259 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 11:17:32,259 INFO  liquibase.util [main] -------------------------------
2025-11-27 11:17:32,259 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 11:17:32,260 INFO  liquibase.util [main] Update summary generated
2025-11-27 11:17:32,263 INFO  liquibase.command [main] Update command completed successfully.
2025-11-27 11:17:32,263 INFO  liquibase.ui [main] Liquibase: Update has been successful. Rows affected: 0
2025-11-27 11:17:32,284 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 11:17:32,286 INFO  liquibase.command [main] Command execution complete
2025-11-27 11:17:32,384 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 11:17:32,433 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 11:17:32,843 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 11:17:32,887 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 11:17:32,897 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 11:17:34,431 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 11:17:34,468 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 11:17:34,522 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 11:17:36,258 WARN  o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-27 11:17:36,348 INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customerUserDetailsService
2025-11-27 11:17:36,563 DEBUG o.s.s.web.DefaultSecurityFilterChain [main] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtRequestFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 11:17:36,741 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [main] 23 mappings in 'requestMappingHandlerMapping'
2025-11-27 11:17:36,803 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-27 11:17:36,857 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-27 11:17:36,930 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-27 11:17:42,009 INFO  o.a.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2025-11-27 11:17:42,022 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/api'
2025-11-27 11:17:42,029 INFO  c.t.Tiketika.TiketikaApplication [main] Started TiketikaApplication in 29.354 seconds (process running for 29.785)
2025-11-27 11:17:58,845 INFO  o.a.c.c.C.[.[localhost].[/api] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-27 11:17:58,845 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2025-11-27 11:17:58,845 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected StandardServletMultipartResolver
2025-11-27 11:17:58,846 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected AcceptHeaderLocaleResolver
2025-11-27 11:17:58,847 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3789bd95
2025-11-27 11:17:58,847 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected org.springframework.web.servlet.support.SessionFlashMapManager@2c9369c3
2025-11-27 11:17:58,847 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-27 11:17:58,847 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed initialization in 2 ms
2025-11-27 11:17:58,854 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing POST /auth/login
2025-11-27 11:17:58,860 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-2] Secured POST /auth/login
2025-11-27 11:17:58,862 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] POST "/api/auth/login", parameters={}
2025-11-27 11:17:58,867 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [http-nio-8080-exec-2] Mapped to com.tiketika.Tiketika.common.auth.controller.command.AuthController#login(LoginRequest)
2025-11-27 11:17:58,944 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [http-nio-8080-exec-2] Read "application/json;charset=UTF-8" to [com.tiketika.Tiketika.common.auth.dto.command.LoginRequest@2576e374]
2025-11-27 11:17:59,105 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-2] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27 11:17:59,106 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-2] Writing [{token=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiU1VQRVJfQURNSU4iLCJzdWIiOiJzdXBlckBrdXphLmNvbSIsImlhdCI6MTc2 (truncated)...]
2025-11-27 11:17:59,153 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed 200 OK
2025-11-27 11:17:59,156 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 11:18:45,192 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing POST /admin/roles
2025-11-27 11:18:45,224 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-3] Secured POST /admin/roles
2025-11-27 11:18:45,224 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-3] POST "/api/admin/roles", parameters={}
2025-11-27 11:18:45,224 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [http-nio-8080-exec-3] Mapped to com.tiketika.Tiketika.common.auth.controller.command.RolePermissionCommandController#createRole(CreateRoleRequest)
2025-11-27 11:18:45,243 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [http-nio-8080-exec-3] Read "application/json;charset=UTF-8" to [CreateRoleRequest[name=CUSTOMER, entityType=BUSES, permissionIds=null]]
2025-11-27 11:18:45,278 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-3] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27 11:18:45,279 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-3] Writing [com.tiketika.Tiketika.common.auth.entities.Role@56a210a9]
2025-11-27 11:18:45,300 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-3] Completed 201 CREATED
2025-11-27 11:18:52,552 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing PUT /admin/roles/4
2025-11-27 11:18:52,559 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-4] Secured PUT /admin/roles/4
2025-11-27 11:18:52,560 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-4] PUT "/api/admin/roles/4", parameters={}
2025-11-27 11:18:52,561 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [http-nio-8080-exec-4] Mapped to com.tiketika.Tiketika.common.auth.controller.command.RolePermissionCommandController#updateRole(Long, UpdateRoleRequest)
2025-11-27 11:18:52,565 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [http-nio-8080-exec-4] Read "application/json;charset=UTF-8" to [UpdateRoleRequest[name=CUSTOMER, entityType=BUSES, permissionIds=null]]
2025-11-27 11:18:52,589 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-4] Failed to complete request: java.lang.UnsupportedOperationException
2025-11-27 11:18:52,590 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] [http-nio-8080-exec-4] Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.UnsupportedOperationException] with root cause
java.lang.UnsupportedOperationException: null
	at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)
	at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.clear(ImmutableCollections.java:149)
	at org.hibernate.type.CollectionType.replaceElements(CollectionType.java:491)
	at org.hibernate.type.CollectionType.replaceOriginal(CollectionType.java:686)
	at org.hibernate.type.CollectionType.replace(CollectionType.java:649)
	at org.hibernate.type.TypeHelper.replace(TypeHelper.java:113)
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsPersistent(DefaultMergeEventListener.java:277)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:211)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:149)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:133)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:140)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:797)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:783)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy2/jdk.proxy2.$Proxy155.merge(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:317)
	at jdk.proxy2/jdk.proxy2.$Proxy155.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)
	at jdk.internal.reflect.GeneratedMethodAccessor132.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:278)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:545)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:290)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:708)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:171)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:166)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy163.save(Unknown Source)
	at com.tiketika.Tiketika.common.auth.services.command.RolePermissionService.updateRole(RolePermissionService.java:66)
	at com.tiketika.Tiketika.common.auth.controller.command.RolePermissionCommandController.updateRole(RolePermissionCommandController.java:38)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:650)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at com.tiketika.Tiketika.security.jwtRequestFilter.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-27 11:18:52,598 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /error
2025-11-27 11:18:52,598 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-4] Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 11:18:52,610 DEBUG o.s.s.w.s.HttpSessionRequestCache [http-nio-8080-exec-4] Saved request http://localhost:8080/api/error?continue to session
2025-11-27 11:18:52,610 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-4] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-11-27 11:18:52,610 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-4] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@2787e05a
2025-11-27 11:28:05,561 INFO  o.s.boot.tomcat.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 11:28:05,563 INFO  o.s.boot.tomcat.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-11-27 11:28:05,568 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 11:28:05,571 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-11-27 11:28:05,580 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-11-27 11:28:09,427 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 13126 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 11:28:09,430 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 11:28:09,649 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 11:28:10,222 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 11:28:10,314 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 83 ms. Found 13 JPA repository interfaces.
2025-11-27 11:28:10,973 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 11:28:10,985 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 11:28:10,987 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 11:28:10,988 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 11:28:11,050 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 1573 ms
2025-11-27 11:28:11,201 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 11:28:11,335 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@677349fb
2025-11-27 11:28:11,337 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 11:28:11,694 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 11:28:11,772 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 11:28:11,812 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 11:28:11,813 INFO  liquibase.command [main] Command execution complete
2025-11-27 11:28:15,451 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 11:28:16,025 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 11:28:16,061 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 11:28:16,063 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 11:28:16,080 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 11:28:16,080 INFO  liquibase.util [main] Run:                          0
2025-11-27 11:28:16,080 INFO  liquibase.util [main] Previously run:              16
2025-11-27 11:28:16,081 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 11:28:16,081 INFO  liquibase.util [main] -------------------------------
2025-11-27 11:28:16,081 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 11:28:16,081 INFO  liquibase.util [main] Update summary generated
2025-11-27 11:28:16,082 INFO  liquibase.command [main] Command execution complete
2025-11-27 11:28:16,153 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 11:28:16,194 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 11:28:16,635 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 11:28:16,694 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 11:28:16,707 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 11:28:18,136 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 11:28:18,175 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 11:28:18,235 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 11:28:19,067 WARN  o.s.b.w.s.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDataInitializer': Invocation of init method failed
2025-11-27 11:28:19,068 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 11:28:19,071 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2025-11-27 11:28:19,077 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2025-11-27 11:28:19,079 INFO  o.a.catalina.core.StandardService [main] Stopping service [Tomcat]
2025-11-27 11:28:19,088 INFO  o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-27 11:28:19,104 ERROR o.s.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDataInitializer': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:220)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:426)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1809)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at com.tiketika.Tiketika.TiketikaApplication.main(TiketikaApplication.java:11)
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: Query did not return a unique result: 2 results were returned
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:180)
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:131)
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:109)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:199)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:556)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:346)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:157)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy163.findByName(Unknown Source)
	at com.tiketika.Tiketika.common.auth.config.UserDataInitializer.init(UserDataInitializer.java:81)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:453)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:397)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:217)
	... 20 common frames omitted
Caused by: org.hibernate.NonUniqueResultException: Query did not return a unique result: 2 results were returned
	at org.hibernate.query.spi.AbstractSelectionQuery.uniqueElement(AbstractSelectionQuery.java:305)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResultOrNull(AbstractSelectionQuery.java:320)
	at jdk.internal.reflect.GeneratedMethodAccessor77.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:414)
	at jdk.proxy2/jdk.proxy2.$Proxy166.getSingleResultOrNull(Unknown Source)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:328)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:99)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:164)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:154)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:167)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	... 33 common frames omitted
2025-11-27 11:58:25,755 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 14718 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 11:58:25,760 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 11:58:26,167 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 11:58:27,130 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 11:58:27,335 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 188 ms. Found 13 JPA repository interfaces.
2025-11-27 11:58:28,340 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 11:58:28,357 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 11:58:28,360 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 11:58:28,360 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 11:58:28,440 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 2607 ms
2025-11-27 11:58:28,688 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 11:58:28,930 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@73d62b5
2025-11-27 11:58:28,933 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 11:58:29,441 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 11:58:29,573 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 11:58:29,652 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 11:58:29,653 INFO  liquibase.command [main] Command execution complete
2025-11-27 11:58:32,564 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 11:58:33,338 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 11:58:33,388 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 11:58:33,391 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 11:58:33,421 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 11:58:33,421 INFO  liquibase.util [main] Run:                          0
2025-11-27 11:58:33,422 INFO  liquibase.util [main] Previously run:              16
2025-11-27 11:58:33,422 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 11:58:33,422 INFO  liquibase.util [main] -------------------------------
2025-11-27 11:58:33,422 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 11:58:33,423 INFO  liquibase.util [main] Update summary generated
2025-11-27 11:58:33,424 INFO  liquibase.command [main] Command execution complete
2025-11-27 11:58:33,553 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 11:58:33,657 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 11:58:34,353 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 11:58:34,427 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 11:58:34,447 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 11:58:36,903 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 11:58:36,973 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 11:58:37,088 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 11:58:38,652 WARN  o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-27 11:58:38,799 INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customerUserDetailsService
2025-11-27 11:58:39,032 DEBUG o.s.s.web.DefaultSecurityFilterChain [main] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtRequestFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 11:58:39,196 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [main] 23 mappings in 'requestMappingHandlerMapping'
2025-11-27 11:58:39,237 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-27 11:58:39,283 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-27 11:58:39,351 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-27 11:58:44,096 INFO  o.a.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2025-11-27 11:58:44,142 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/api'
2025-11-27 11:58:44,170 INFO  c.t.Tiketika.TiketikaApplication [main] Started TiketikaApplication in 19.618 seconds (process running for 20.41)
2025-11-27 11:59:19,836 INFO  o.a.c.c.C.[.[localhost].[/api] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-27 11:59:19,836 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2025-11-27 11:59:19,837 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected StandardServletMultipartResolver
2025-11-27 11:59:19,837 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected AcceptHeaderLocaleResolver
2025-11-27 11:59:19,839 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@747bf7a
2025-11-27 11:59:19,840 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected org.springframework.web.servlet.support.SessionFlashMapManager@c8d09e4
2025-11-27 11:59:19,840 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-27 11:59:19,840 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed initialization in 3 ms
2025-11-27 11:59:19,853 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing PUT /admin/roles/4
2025-11-27 11:59:19,950 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-2] Secured PUT /admin/roles/4
2025-11-27 11:59:19,954 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] PUT "/api/admin/roles/4", parameters={}
2025-11-27 11:59:19,967 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [http-nio-8080-exec-2] Mapped to com.tiketika.Tiketika.common.auth.controller.command.RolePermissionCommandController#updateRole(Long, UpdateRoleRequest)
2025-11-27 11:59:20,156 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [http-nio-8080-exec-2] Read "application/json;charset=UTF-8" to [UpdateRoleRequest[name=CUSTOMER, entityType=BUSES, permissionIds=null]]
2025-11-27 11:59:20,250 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-2] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27 11:59:20,251 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-2] Writing [com.tiketika.Tiketika.common.auth.entities.Role@c882036]
2025-11-27 11:59:20,316 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed 200 OK
2025-11-27 11:59:41,527 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /admin/roles
2025-11-27 11:59:41,537 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-3] Secured GET /admin/roles
2025-11-27 11:59:41,538 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-3] GET "/api/admin/roles", parameters={}
2025-11-27 11:59:41,538 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [http-nio-8080-exec-3] Mapped to com.tiketika.Tiketika.common.auth.controller.query.RolePermissionQueryController#getAllRoles()
2025-11-27 11:59:41,573 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-3] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27 11:59:41,574 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-3] Writing [[com.tiketika.Tiketika.common.auth.entities.Role@68b3c0d7, com.tiketika.Tiketika.common.auth.entitie (truncated)...]
2025-11-27 11:59:41,581 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-3] Completed 200 OK
2025-11-27 12:00:06,715 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing DELETE /admin/roles/1
2025-11-27 12:00:06,717 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-4] Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 12:00:06,734 DEBUG o.s.s.w.s.HttpSessionRequestCache [http-nio-8080-exec-4] Saved request http://localhost:8080/api/admin/roles/1?continue to session
2025-11-27 12:00:06,735 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-4] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-11-27 12:00:06,735 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-4] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@432b30f1
2025-11-27 12:00:06,743 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /error
2025-11-27 12:00:06,743 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-4] Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 12:00:06,744 DEBUG o.s.s.w.s.HttpSessionRequestCache [http-nio-8080-exec-4] Saved request http://localhost:8080/api/error?continue to session
2025-11-27 12:00:06,745 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-4] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-11-27 12:00:06,745 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-4] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@432b30f1
2025-11-27 12:10:02,961 INFO  o.s.boot.tomcat.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 12:10:02,969 INFO  o.s.boot.tomcat.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-11-27 12:10:02,992 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 12:10:03,001 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-11-27 12:10:03,033 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-11-27 12:10:09,787 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 15148 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 12:10:09,792 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 12:10:10,128 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 12:10:11,242 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 12:10:11,474 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 210 ms. Found 13 JPA repository interfaces.
2025-11-27 12:10:12,505 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 12:10:12,523 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 12:10:12,527 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 12:10:12,528 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 12:10:12,627 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 2763 ms
2025-11-27 12:10:12,848 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 12:10:13,131 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2450256f
2025-11-27 12:10:13,133 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 12:10:13,672 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 12:10:13,802 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 12:10:13,851 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 12:10:13,853 INFO  liquibase.command [main] Command execution complete
2025-11-27 12:10:16,516 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 12:10:17,432 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 12:10:17,486 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 12:10:17,489 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 12:10:17,509 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 12:10:17,509 INFO  liquibase.util [main] Run:                          0
2025-11-27 12:10:17,509 INFO  liquibase.util [main] Previously run:              16
2025-11-27 12:10:17,510 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 12:10:17,510 INFO  liquibase.util [main] -------------------------------
2025-11-27 12:10:17,510 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 12:10:17,511 INFO  liquibase.util [main] Update summary generated
2025-11-27 12:10:17,512 INFO  liquibase.command [main] Command execution complete
2025-11-27 12:10:17,625 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 12:10:17,722 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 12:10:18,531 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 12:10:18,603 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 12:10:18,620 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 12:10:20,844 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 12:10:20,905 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 12:10:21,010 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 12:10:22,564 WARN  o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-27 12:10:22,710 INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customerUserDetailsService
2025-11-27 12:10:22,947 DEBUG o.s.s.web.DefaultSecurityFilterChain [main] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtRequestFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 12:10:23,125 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [main] 23 mappings in 'requestMappingHandlerMapping'
2025-11-27 12:10:23,183 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-27 12:10:23,232 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-27 12:10:23,311 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-27 12:10:27,601 INFO  o.a.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2025-11-27 12:10:27,650 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/api'
2025-11-27 12:10:27,673 INFO  c.t.Tiketika.TiketikaApplication [main] Started TiketikaApplication in 19.063 seconds (process running for 19.816)
2025-11-27 12:10:36,337 INFO  o.a.c.c.C.[.[localhost].[/api] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-27 12:10:36,340 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2025-11-27 12:10:36,341 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Detected StandardServletMultipartResolver
2025-11-27 12:10:36,341 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Detected AcceptHeaderLocaleResolver
2025-11-27 12:10:36,347 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@266200f6
2025-11-27 12:10:36,348 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Detected org.springframework.web.servlet.support.SessionFlashMapManager@7481775c
2025-11-27 12:10:36,348 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-27 12:10:36,348 INFO  o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 8 ms
2025-11-27 12:10:36,366 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing DELETE /admin/roles/1
2025-11-27 12:10:36,422 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 12:10:36,450 DEBUG o.s.s.w.s.HttpSessionRequestCache [http-nio-8080-exec-1] Saved request http://localhost:8080/api/admin/roles/1?continue to session
2025-11-27 12:10:36,451 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-1] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-11-27 12:10:36,452 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-1] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@481f57e0
2025-11-27 12:10:36,462 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /error
2025-11-27 12:10:36,463 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 12:10:36,465 DEBUG o.s.s.w.s.HttpSessionRequestCache [http-nio-8080-exec-1] Saved request http://localhost:8080/api/error?continue to session
2025-11-27 12:10:36,465 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-1] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-11-27 12:10:36,466 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-1] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@481f57e0
2025-11-27 12:10:49,902 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing DELETE /admin/roles/1
2025-11-27 12:10:49,989 DEBUG o.s.security.web.FilterChainProxy [http-nio-8080-exec-3] Secured DELETE /admin/roles/1
2025-11-27 12:10:49,993 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-3] DELETE "/api/admin/roles/1", parameters={}
2025-11-27 12:10:50,003 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [http-nio-8080-exec-3] Mapped to com.tiketika.Tiketika.common.auth.controller.command.RolePermissionCommandController#deleteRole(Long)
2025-11-27 12:10:50,187 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-3] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27 12:10:50,188 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor [http-nio-8080-exec-3] Nothing to write: null body
2025-11-27 12:10:50,196 DEBUG o.s.web.servlet.DispatcherServlet [http-nio-8080-exec-3] Completed 204 NO_CONTENT
2025-11-27 12:11:02,392 INFO  o.s.boot.tomcat.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 12:11:02,400 INFO  o.s.boot.tomcat.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-11-27 12:11:02,424 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 12:11:02,433 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-11-27 12:11:02,459 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-11-27 12:11:06,096 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 15312 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 12:11:06,101 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 12:11:06,439 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 12:11:07,320 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 12:11:07,475 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 140 ms. Found 13 JPA repository interfaces.
2025-11-27 12:11:08,429 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 12:11:08,446 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 12:11:08,450 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 12:11:08,450 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 12:11:08,541 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 2366 ms
2025-11-27 12:11:08,793 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 12:11:09,033 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2450256f
2025-11-27 12:11:09,036 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 12:11:09,670 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 12:11:09,796 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 12:11:09,845 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 12:11:09,847 INFO  liquibase.command [main] Command execution complete
2025-11-27 12:11:12,672 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 12:11:13,615 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 12:11:13,675 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 12:11:13,678 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 12:11:13,702 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 12:11:13,702 INFO  liquibase.util [main] Run:                          0
2025-11-27 12:11:13,703 INFO  liquibase.util [main] Previously run:              16
2025-11-27 12:11:13,703 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 12:11:13,703 INFO  liquibase.util [main] -------------------------------
2025-11-27 12:11:13,703 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 12:11:13,704 INFO  liquibase.util [main] Update summary generated
2025-11-27 12:11:13,705 INFO  liquibase.command [main] Command execution complete
2025-11-27 12:11:13,848 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 12:11:13,949 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 12:11:14,675 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 12:11:14,752 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 12:11:14,770 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 12:11:17,541 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 12:11:17,604 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 12:11:17,707 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 12:11:19,352 WARN  o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-27 12:11:19,484 INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customerUserDetailsService
2025-11-27 12:11:19,721 DEBUG o.s.s.web.DefaultSecurityFilterChain [main] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtRequestFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 12:11:19,907 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [main] 23 mappings in 'requestMappingHandlerMapping'
2025-11-27 12:11:19,958 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-27 12:11:20,005 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-27 12:11:20,088 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-27 12:11:24,114 INFO  o.a.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2025-11-27 12:11:24,162 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/api'
2025-11-27 12:11:24,190 INFO  c.t.Tiketika.TiketikaApplication [main] Started TiketikaApplication in 19.247 seconds (process running for 20.153)
2025-11-27 12:11:24,797 INFO  o.s.boot.tomcat.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 12:11:24,803 INFO  o.s.boot.tomcat.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-11-27 12:11:24,815 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 12:11:24,820 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-11-27 12:11:24,832 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-11-27 12:11:50,575 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.13 with PID 15757 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 12:11:50,580 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 12:11:50,895 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 12:11:51,646 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 12:11:51,789 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 122 ms. Found 13 JPA repository interfaces.
2025-11-27 12:11:52,618 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 12:11:52,636 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 12:11:52,640 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 12:11:52,641 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 12:11:52,731 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 2075 ms
2025-11-27 12:11:52,882 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 12:11:53,136 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@21f9c6ea
2025-11-27 12:11:53,139 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 12:11:53,583 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 12:11:53,676 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 12:11:53,774 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 12:11:53,775 INFO  liquibase.command [main] Command execution complete
2025-11-27 12:11:56,433 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 12:11:57,236 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 12:11:57,365 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 12:11:57,372 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 12:11:57,437 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 12:11:57,438 INFO  liquibase.util [main] Run:                          0
2025-11-27 12:11:57,438 INFO  liquibase.util [main] Previously run:              16
2025-11-27 12:11:57,439 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 12:11:57,439 INFO  liquibase.util [main] -------------------------------
2025-11-27 12:11:57,440 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 12:11:57,443 INFO  liquibase.util [main] Update summary generated
2025-11-27 12:11:57,445 INFO  liquibase.command [main] Command execution complete
2025-11-27 12:11:57,654 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 12:11:57,727 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 12:11:58,383 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 12:11:58,457 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 12:11:58,475 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 12:12:00,381 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 12:12:00,442 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 12:12:00,534 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 12:12:01,780 WARN  o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-27 12:12:01,912 INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customerUserDetailsService
2025-11-27 12:12:02,119 DEBUG o.s.s.web.DefaultSecurityFilterChain [main] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtRequestFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 12:12:02,273 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [main] 23 mappings in 'requestMappingHandlerMapping'
2025-11-27 12:12:02,314 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-27 12:12:02,369 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-27 12:12:02,438 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-27 12:12:06,481 INFO  o.a.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2025-11-27 12:12:06,508 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/api'
2025-11-27 12:12:06,517 INFO  c.t.Tiketika.TiketikaApplication [main] Started TiketikaApplication in 16.828 seconds (process running for 17.345)
2025-11-27 12:12:35,691 INFO  o.s.boot.tomcat.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 12:12:35,706 INFO  o.s.boot.tomcat.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-11-27 12:12:35,726 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 12:12:35,733 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-11-27 12:12:35,753 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-11-27 12:21:54,988 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 15965 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 12:21:54,993 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 12:21:55,371 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 12:21:56,180 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 12:21:56,329 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 135 ms. Found 13 JPA repository interfaces.
2025-11-27 12:21:57,328 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 12:21:57,346 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 12:21:57,349 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 12:21:57,349 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 12:21:57,451 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 2382 ms
2025-11-27 12:21:57,633 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 12:21:57,862 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4466cf5d
2025-11-27 12:21:57,864 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 12:21:58,238 INFO  liquibase.snapshot [main] Creating snapshot
2025-11-27 12:21:58,554 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 12:21:58,579 INFO  liquibase.changelog [main] Creating database changelog table with name: ticket_db.DATABASECHANGELOG
2025-11-27 12:21:58,718 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 12:21:58,750 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 12:21:58,752 INFO  liquibase.command [main] Command execution complete
2025-11-27 12:22:01,532 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 12:22:02,247 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 12:22:02,248 INFO  liquibase.command [main] Using deploymentId: 4235317607
2025-11-27 12:22:02,252 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 12:22:02,402 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-entity-owner.xml::8::omar
2025-11-27 12:22:02,566 INFO  liquibase.changelog [main] Table app_entity_owner created
2025-11-27 12:22:02,570 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-entity-owner.xml::8::omar ran successfully in 164ms
2025-11-27 12:22:02,600 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-kyc-detail.xml::20251125-kyc-detail-01::omar
2025-11-27 12:22:02,723 INFO  liquibase.changelog [main] Table app_kyc_detail created
2025-11-27 12:22:03,241 INFO  liquibase.changelog [main] Foreign key constraint added to app_kyc_detail (entity_owner_id)
2025-11-27 12:22:03,342 INFO  liquibase.changelog [main] Index idx_kycdetail_entity_owner created
2025-11-27 12:22:03,344 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-kyc-detail.xml::20251125-kyc-detail-01::omar ran successfully in 743ms
2025-11-27 12:22:03,396 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-user.xml::7::omar
2025-11-27 12:22:03,565 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:03,565 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:03,565 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:03,566 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:03,566 INFO  liquibase.changelog [main] Table app_user created
2025-11-27 12:22:03,642 INFO  liquibase.changelog [main] Index idx_user_email created
2025-11-27 12:22:03,740 INFO  liquibase.changelog [main] Index idx_user_phone created
2025-11-27 12:22:03,819 INFO  liquibase.changelog [main] Index idx_user_is_active created
2025-11-27 12:22:03,820 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-user.xml::7::omar ran successfully in 423ms
2025-11-27 12:22:03,841 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-user-entity.xml::10::omar
2025-11-27 12:22:03,956 INFO  liquibase.changelog [main] Table app_user_entity created
2025-11-27 12:22:04,030 INFO  liquibase.changelog [main] Index idx_user_entity_id created
2025-11-27 12:22:04,123 INFO  liquibase.changelog [main] Index idx_user_entity_type created
2025-11-27 12:22:04,192 INFO  liquibase.changelog [main] Index idx_user_entity_owner created
2025-11-27 12:22:04,540 INFO  liquibase.changelog [main] Foreign key constraint added to app_user_entity (user_id)
2025-11-27 12:22:04,949 INFO  liquibase.changelog [main] Foreign key constraint added to app_user_entity (owner_id)
2025-11-27 12:22:04,951 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-user-entity.xml::10::omar ran successfully in 1109ms
2025-11-27 12:22:04,981 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-otp.xml::1-create-otp-table::omar
2025-11-27 12:22:05,122 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:05,123 INFO  liquibase.changelog [main] Table app_otp created
2025-11-27 12:22:05,414 INFO  liquibase.changelog [main] Foreign key constraint added to app_otp (user_id)
2025-11-27 12:22:05,416 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-otp.xml::1-create-otp-table::omar ran successfully in 433ms
2025-11-27 12:22:05,444 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-image.xml::12::omar
2025-11-27 12:22:05,574 INFO  liquibase.changelog [main] Table app_image created
2025-11-27 12:22:05,646 INFO  liquibase.changelog [main] Index idx_image_id created
2025-11-27 12:22:05,840 INFO  liquibase.changelog [main] Index idx_image_entity_type created
2025-11-27 12:22:05,933 INFO  liquibase.changelog [main] Index idx_image_entity_id created
2025-11-27 12:22:06,025 INFO  liquibase.changelog [main] Index idx_image_type created
2025-11-27 12:22:06,027 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-image.xml::12::omar ran successfully in 582ms
2025-11-27 12:22:06,057 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event.xml::1::omar
2025-11-27 12:22:06,216 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:06,217 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:06,218 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:06,219 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:06,219 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:06,220 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:06,221 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:06,221 INFO  liquibase.changelog [main] Table app_event created
2025-11-27 12:22:06,304 INFO  liquibase.changelog [main] Index idx_event_id created
2025-11-27 12:22:06,385 INFO  liquibase.changelog [main] Index idx_event_name created
2025-11-27 12:22:06,493 INFO  liquibase.changelog [main] Index idx_event_subdomain created
2025-11-27 12:22:06,495 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event.xml::1::omar ran successfully in 436ms
2025-11-27 12:22:06,528 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-package.xml::3::omar
2025-11-27 12:22:06,659 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:06,660 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 12:22:06,660 INFO  liquibase.changelog [main] Table app_event_package created
2025-11-27 12:22:06,991 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_package (event_id)
2025-11-27 12:22:07,085 INFO  liquibase.changelog [main] Index idx_event_package_id created
2025-11-27 12:22:07,185 INFO  liquibase.changelog [main] Index idx_event_package_price created
2025-11-27 12:22:07,285 INFO  liquibase.changelog [main] Index idx_event_package_name created
2025-11-27 12:22:07,287 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-package.xml::3::omar ran successfully in 758ms
2025-11-27 12:22:07,316 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-message.xml::4::omar
2025-11-27 12:22:07,440 INFO  liquibase.changelog [main] Table app_event_message created
2025-11-27 12:22:07,735 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_message (event_id)
2025-11-27 12:22:07,821 INFO  liquibase.changelog [main] Index idx_event_message_id created
2025-11-27 12:22:07,907 INFO  liquibase.changelog [main] Index idx_event_message_type created
2025-11-27 12:22:07,909 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-message.xml::4::omar ran successfully in 592ms
2025-11-27 12:22:07,940 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-product.xml::5::omar
2025-11-27 12:22:08,061 INFO  liquibase.changelog [main] Table app_event_product created
2025-11-27 12:22:08,134 INFO  liquibase.changelog [main] Index idx_product_name created
2025-11-27 12:22:08,208 INFO  liquibase.changelog [main] Index idx_product_price created
2025-11-27 12:22:08,289 INFO  liquibase.changelog [main] Index idx_product_vendor_id created
2025-11-27 12:22:08,374 INFO  liquibase.changelog [main] Index idx_image_path created
2025-11-27 12:22:08,723 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_product (vendor_id)
2025-11-27 12:22:08,726 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-product.xml::5::omar ran successfully in 784ms
2025-11-27 12:22:08,753 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-booking.xml::2::omar
2025-11-27 12:22:08,875 INFO  liquibase.changelog [main] Table app_event_booking created
2025-11-27 12:22:09,176 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_booking (event_id)
2025-11-27 12:22:09,178 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-booking.xml::2::omar ran successfully in 424ms
2025-11-27 12:22:09,212 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-transaction.xml::6::omar
2025-11-27 12:22:09,341 INFO  liquibase.changelog [main] Table app_event_transaction created
2025-11-27 12:22:09,420 INFO  liquibase.changelog [main] Index idx_event_tx_id created
2025-11-27 12:22:09,497 INFO  liquibase.changelog [main] Index idx_event_tx_buyer_email created
2025-11-27 12:22:09,575 INFO  liquibase.changelog [main] Index idx_event_tx_vendor_name created
2025-11-27 12:22:09,644 INFO  liquibase.changelog [main] Index idx_event_tx_event_id created
2025-11-27 12:22:09,744 INFO  liquibase.changelog [main] Index idx_event_tx_vendor_id created
2025-11-27 12:22:10,307 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (booking_id)
2025-11-27 12:22:10,784 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (product_id)
2025-11-27 12:22:11,325 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (event_id)
2025-11-27 12:22:11,803 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (vendor_id)
2025-11-27 12:22:11,805 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-transaction.xml::6::omar ran successfully in 2592ms
2025-11-27 12:22:11,850 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-role.xml::create-table-role::omar
2025-11-27 12:22:11,974 INFO  liquibase.changelog [main] Table app_role created
2025-11-27 12:22:12,065 INFO  liquibase.changelog [main] Unique constraint added to app_role(name, entity_type)
2025-11-27 12:22:12,067 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-role.xml::create-table-role::omar ran successfully in 216ms
2025-11-27 12:22:12,093 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-permission.xml::create-table-permission::omar
2025-11-27 12:22:12,254 INFO  liquibase.changelog [main] Table app_permission created
2025-11-27 12:22:12,335 INFO  liquibase.ui [main] Duplicate index 'uk_permission_name' defined on the table 'ticket_db.app_permission'. This is deprecated and will be disallowed in a future release.
2025-11-27 12:22:12,335 INFO  liquibase.changelog [main] Unique constraint added to app_permission(name)
2025-11-27 12:22:12,336 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-permission.xml::create-table-permission::omar ran successfully in 242ms
2025-11-27 12:22:12,362 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-role-permission.xml::create-table-role-permissions::omar
2025-11-27 12:22:12,472 INFO  liquibase.changelog [main] Table app_role_permissions created
2025-11-27 12:22:12,757 INFO  liquibase.changelog [main] Foreign key constraint added to app_role_permissions (role_id)
2025-11-27 12:22:13,126 INFO  liquibase.changelog [main] Foreign key constraint added to app_role_permissions (permission_id)
2025-11-27 12:22:13,360 INFO  liquibase.changelog [main] Unique constraint added to app_role_permissions(role_id, permission_id)
2025-11-27 12:22:13,362 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-role-permission.xml::create-table-role-permissions::omar ran successfully in 998ms
2025-11-27 12:22:13,388 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-user-entity-role.xml::add-user-entity-roles-table::omar
2025-11-27 12:22:13,540 INFO  liquibase.changelog [main] Table user_entity_roles created
2025-11-27 12:22:13,733 INFO  liquibase.changelog [main] Primary key added to user_entity_roles (user_entity_id, role_id)
2025-11-27 12:22:14,085 INFO  liquibase.changelog [main] Foreign key constraint added to user_entity_roles (user_entity_id)
2025-11-27 12:22:14,382 INFO  liquibase.changelog [main] Foreign key constraint added to user_entity_roles (role_id)
2025-11-27 12:22:14,474 INFO  liquibase.changelog [main] Index idx_user_entity_roles_user created
2025-11-27 12:22:14,568 INFO  liquibase.changelog [main] Index idx_user_entity_roles_role created
2025-11-27 12:22:14,569 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-user-entity-role.xml::add-user-entity-roles-table::omar ran successfully in 1180ms
2025-11-27 12:22:14,617 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 12:22:14,618 INFO  liquibase.util [main] Run:                         16
2025-11-27 12:22:14,618 INFO  liquibase.util [main] Previously run:               0
2025-11-27 12:22:14,618 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 12:22:14,619 INFO  liquibase.util [main] -------------------------------
2025-11-27 12:22:14,619 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 12:22:14,621 INFO  liquibase.util [main] Update summary generated
2025-11-27 12:22:14,630 INFO  liquibase.command [main] Update command completed successfully.
2025-11-27 12:22:14,631 INFO  liquibase.ui [main] Liquibase: Update has been successful. Rows affected: 0
2025-11-27 12:22:14,648 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 12:22:14,650 INFO  liquibase.command [main] Command execution complete
2025-11-27 12:22:14,922 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 12:22:15,023 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 12:22:15,727 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 12:22:15,799 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 12:22:15,816 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 12:22:18,008 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 12:22:18,085 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 12:22:18,208 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 12:22:20,463 WARN  o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-27 12:22:20,606 INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customerUserDetailsService
2025-11-27 12:22:20,892 DEBUG o.s.s.web.DefaultSecurityFilterChain [main] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtRequestFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 12:22:21,073 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping [main] 23 mappings in 'requestMappingHandlerMapping'
2025-11-27 12:22:21,120 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-27 12:22:21,160 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-27 12:22:21,223 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-27 12:22:25,504 INFO  o.a.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2025-11-27 12:22:25,552 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/api'
2025-11-27 12:22:25,575 INFO  c.t.Tiketika.TiketikaApplication [main] Started TiketikaApplication in 31.775 seconds (process running for 32.553)
2025-11-27 13:58:09,895 INFO  o.s.boot.tomcat.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 13:58:09,901 INFO  o.s.boot.tomcat.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-11-27 13:58:09,908 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 13:58:09,911 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-11-27 13:58:09,915 INFO  com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-11-27 13:58:15,051 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 17900 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 13:58:15,056 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 13:58:15,332 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 13:58:16,009 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 13:58:16,266 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 242 ms. Found 14 JPA repository interfaces.
2025-11-27 13:58:17,404 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 13:58:17,422 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 13:58:17,426 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 13:58:17,427 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 13:58:17,533 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 2390 ms
2025-11-27 13:58:17,766 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 13:58:18,018 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ac044ef
2025-11-27 13:58:18,020 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 13:58:18,471 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 13:58:18,565 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 13:58:18,607 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 13:58:18,608 INFO  liquibase.command [main] Command execution complete
2025-11-27 13:58:20,969 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 13:58:21,679 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 13:58:21,709 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 13:58:21,711 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 13:58:21,731 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 13:58:21,732 INFO  liquibase.util [main] Run:                          0
2025-11-27 13:58:21,732 INFO  liquibase.util [main] Previously run:              16
2025-11-27 13:58:21,732 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 13:58:21,732 INFO  liquibase.util [main] -------------------------------
2025-11-27 13:58:21,732 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 13:58:21,733 INFO  liquibase.util [main] Update summary generated
2025-11-27 13:58:21,733 INFO  liquibase.command [main] Command execution complete
2025-11-27 13:58:21,816 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 13:58:21,869 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 13:58:22,381 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 13:58:22,433 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 13:58:22,447 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 13:58:24,018 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 13:58:24,053 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 13:58:24,110 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 13:58:24,997 WARN  o.s.b.w.s.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDataInitializer': Invocation of init method failed
2025-11-27 13:58:24,998 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 13:58:25,001 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2025-11-27 13:58:25,007 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2025-11-27 13:58:25,010 INFO  o.a.catalina.core.StandardService [main] Stopping service [Tomcat]
2025-11-27 13:58:25,019 INFO  o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-27 13:58:25,034 ERROR o.s.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDataInitializer': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:220)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:426)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1809)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at com.tiketika.Tiketika.TiketikaApplication.main(TiketikaApplication.java:11)
Caused by: java.util.NoSuchElementException: No value present
	at java.base/java.util.Optional.orElseThrow(Optional.java:377)
	at com.tiketika.Tiketika.common.auth.config.UserDataInitializer.lambda$init$4(UserDataInitializer.java:127)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at com.tiketika.Tiketika.common.auth.config.UserDataInitializer.init(UserDataInitializer.java:122)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:453)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:397)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:217)
	... 20 common frames omitted
2025-11-27 14:02:22,701 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 18116 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 14:02:22,706 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 14:02:23,165 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 14:02:24,399 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 14:02:24,713 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 295 ms. Found 14 JPA repository interfaces.
2025-11-27 14:02:25,934 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 14:02:25,959 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 14:02:25,963 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 14:02:25,964 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 14:02:26,098 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 3299 ms
2025-11-27 14:02:26,337 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 14:02:26,666 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@478967eb
2025-11-27 14:02:26,669 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 14:02:27,317 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 14:02:27,465 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 14:02:27,523 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 14:02:27,526 INFO  liquibase.command [main] Command execution complete
2025-11-27 14:02:35,294 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 14:02:36,170 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 14:02:36,213 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 14:02:36,216 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 14:02:36,246 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 14:02:36,247 INFO  liquibase.util [main] Run:                          0
2025-11-27 14:02:36,247 INFO  liquibase.util [main] Previously run:              16
2025-11-27 14:02:36,247 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 14:02:36,247 INFO  liquibase.util [main] -------------------------------
2025-11-27 14:02:36,247 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 14:02:36,248 INFO  liquibase.util [main] Update summary generated
2025-11-27 14:02:36,249 INFO  liquibase.command [main] Command execution complete
2025-11-27 14:02:36,359 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 14:02:36,436 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 14:02:37,154 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 14:02:37,249 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 14:02:37,271 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 14:02:40,205 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 14:02:40,269 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 14:02:40,409 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 14:02:41,807 WARN  o.s.b.w.s.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDataInitializer': Invocation of init method failed
2025-11-27 14:02:41,809 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 14:02:41,814 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2025-11-27 14:02:41,826 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2025-11-27 14:02:41,830 INFO  o.a.catalina.core.StandardService [main] Stopping service [Tomcat]
2025-11-27 14:02:41,844 INFO  o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-27 14:02:41,868 ERROR o.s.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDataInitializer': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:220)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:426)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1809)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at com.tiketika.Tiketika.TiketikaApplication.main(TiketikaApplication.java:11)
Caused by: java.util.NoSuchElementException: No value present
	at java.base/java.util.Optional.orElseThrow(Optional.java:377)
	at com.tiketika.Tiketika.common.auth.config.UserDataInitializer.lambda$init$4(UserDataInitializer.java:127)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at com.tiketika.Tiketika.common.auth.config.UserDataInitializer.init(UserDataInitializer.java:122)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:453)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:397)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:217)
	... 20 common frames omitted
2025-11-27 14:10:25,315 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 18355 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 14:10:25,321 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 14:10:25,717 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 14:10:26,763 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 14:10:26,931 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 150 ms. Found 14 JPA repository interfaces.
2025-11-27 14:10:27,899 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 14:10:27,917 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 14:10:27,920 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 14:10:27,921 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 14:10:28,002 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 2598 ms
2025-11-27 14:10:28,234 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 14:10:28,465 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ac044ef
2025-11-27 14:10:28,467 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 14:10:28,940 INFO  liquibase.snapshot [main] Creating snapshot
2025-11-27 14:10:29,256 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 14:10:29,270 INFO  liquibase.changelog [main] Creating database changelog table with name: ticket_db.DATABASECHANGELOG
2025-11-27 14:10:29,429 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 14:10:29,462 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 14:10:29,466 INFO  liquibase.command [main] Command execution complete
2025-11-27 14:10:39,224 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 14:10:40,018 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 14:10:40,019 INFO  liquibase.command [main] Using deploymentId: 4241828205
2025-11-27 14:10:40,022 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 14:10:40,203 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-entity-owner.xml::8::omar
2025-11-27 14:10:40,328 INFO  liquibase.changelog [main] Table app_entity_owner created
2025-11-27 14:10:40,333 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-entity-owner.xml::8::omar ran successfully in 125ms
2025-11-27 14:10:40,362 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-kyc-detail.xml::20251125-kyc-detail-01::omar
2025-11-27 14:10:40,475 INFO  liquibase.changelog [main] Table app_kyc_detail created
2025-11-27 14:10:40,958 INFO  liquibase.changelog [main] Foreign key constraint added to app_kyc_detail (entity_owner_id)
2025-11-27 14:10:41,160 INFO  liquibase.changelog [main] Index idx_kycdetail_entity_owner created
2025-11-27 14:10:41,162 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-kyc-detail.xml::20251125-kyc-detail-01::omar ran successfully in 798ms
2025-11-27 14:10:41,207 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-user.xml::7::omar
2025-11-27 14:10:41,374 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:41,374 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:41,375 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:41,375 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:41,375 INFO  liquibase.changelog [main] Table app_user created
2025-11-27 14:10:41,743 INFO  liquibase.changelog [main] Index idx_user_email created
2025-11-27 14:10:41,827 INFO  liquibase.changelog [main] Index idx_user_phone created
2025-11-27 14:10:41,928 INFO  liquibase.changelog [main] Index idx_user_is_active created
2025-11-27 14:10:41,929 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-user.xml::7::omar ran successfully in 721ms
2025-11-27 14:10:41,963 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-user-entity.xml::10::omar
2025-11-27 14:10:42,128 INFO  liquibase.changelog [main] Table app_user_entity created
2025-11-27 14:10:42,205 INFO  liquibase.changelog [main] Index idx_user_entity_id created
2025-11-27 14:10:42,288 INFO  liquibase.changelog [main] Index idx_user_entity_type created
2025-11-27 14:10:42,386 INFO  liquibase.changelog [main] Index idx_user_entity_owner created
2025-11-27 14:10:42,752 INFO  liquibase.changelog [main] Foreign key constraint added to app_user_entity (user_id)
2025-11-27 14:10:43,151 INFO  liquibase.changelog [main] Foreign key constraint added to app_user_entity (owner_id)
2025-11-27 14:10:43,154 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-user-entity.xml::10::omar ran successfully in 1188ms
2025-11-27 14:10:43,181 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-otp.xml::1-create-otp-table::omar
2025-11-27 14:10:43,325 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:43,326 INFO  liquibase.changelog [main] Table app_otp created
2025-11-27 14:10:43,623 INFO  liquibase.changelog [main] Foreign key constraint added to app_otp (user_id)
2025-11-27 14:10:43,625 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-otp.xml::1-create-otp-table::omar ran successfully in 442ms
2025-11-27 14:10:43,665 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-image.xml::12::omar
2025-11-27 14:10:43,795 INFO  liquibase.changelog [main] Table app_image created
2025-11-27 14:10:43,872 INFO  liquibase.changelog [main] Index idx_image_id created
2025-11-27 14:10:43,945 INFO  liquibase.changelog [main] Index idx_image_entity_type created
2025-11-27 14:10:44,012 INFO  liquibase.changelog [main] Index idx_image_entity_id created
2025-11-27 14:10:44,110 INFO  liquibase.changelog [main] Index idx_image_type created
2025-11-27 14:10:44,112 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-image.xml::12::omar ran successfully in 446ms
2025-11-27 14:10:44,141 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event.xml::1::omar
2025-11-27 14:10:44,329 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:44,330 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:44,331 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:44,331 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:44,332 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:44,332 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:44,333 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:44,334 INFO  liquibase.changelog [main] Table app_event created
2025-11-27 14:10:44,433 INFO  liquibase.changelog [main] Index idx_event_id created
2025-11-27 14:10:44,529 INFO  liquibase.changelog [main] Index idx_event_name created
2025-11-27 14:10:44,618 INFO  liquibase.changelog [main] Index idx_event_subdomain created
2025-11-27 14:10:44,620 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event.xml::1::omar ran successfully in 477ms
2025-11-27 14:10:44,660 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-package.xml::3::omar
2025-11-27 14:10:44,780 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:44,781 INFO  liquibase.ui [main] Integer display width is deprecated and will be removed in a future release.
2025-11-27 14:10:44,781 INFO  liquibase.changelog [main] Table app_event_package created
2025-11-27 14:10:45,089 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_package (event_id)
2025-11-27 14:10:45,177 INFO  liquibase.changelog [main] Index idx_event_package_id created
2025-11-27 14:10:45,270 INFO  liquibase.changelog [main] Index idx_event_package_price created
2025-11-27 14:10:45,367 INFO  liquibase.changelog [main] Index idx_event_package_name created
2025-11-27 14:10:45,369 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-package.xml::3::omar ran successfully in 708ms
2025-11-27 14:10:45,419 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-message.xml::4::omar
2025-11-27 14:10:45,538 INFO  liquibase.changelog [main] Table app_event_message created
2025-11-27 14:10:45,859 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_message (event_id)
2025-11-27 14:10:45,936 INFO  liquibase.changelog [main] Index idx_event_message_id created
2025-11-27 14:10:46,018 INFO  liquibase.changelog [main] Index idx_event_message_type created
2025-11-27 14:10:46,020 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-message.xml::4::omar ran successfully in 600ms
2025-11-27 14:10:46,047 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-product.xml::5::omar
2025-11-27 14:10:46,199 INFO  liquibase.changelog [main] Table app_event_product created
2025-11-27 14:10:46,278 INFO  liquibase.changelog [main] Index idx_product_name created
2025-11-27 14:10:46,364 INFO  liquibase.changelog [main] Index idx_product_price created
2025-11-27 14:10:46,446 INFO  liquibase.changelog [main] Index idx_product_vendor_id created
2025-11-27 14:10:46,566 INFO  liquibase.changelog [main] Index idx_image_path created
2025-11-27 14:10:46,930 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_product (vendor_id)
2025-11-27 14:10:46,932 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-product.xml::5::omar ran successfully in 884ms
2025-11-27 14:10:46,964 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-booking.xml::2::omar
2025-11-27 14:10:47,092 INFO  liquibase.changelog [main] Table app_event_booking created
2025-11-27 14:10:47,355 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_booking (event_id)
2025-11-27 14:10:47,356 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-booking.xml::2::omar ran successfully in 391ms
2025-11-27 14:10:47,376 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-event-transaction.xml::6::omar
2025-11-27 14:10:47,500 INFO  liquibase.changelog [main] Table app_event_transaction created
2025-11-27 14:10:47,591 INFO  liquibase.changelog [main] Index idx_event_tx_id created
2025-11-27 14:10:47,680 INFO  liquibase.changelog [main] Index idx_event_tx_buyer_email created
2025-11-27 14:10:47,765 INFO  liquibase.changelog [main] Index idx_event_tx_vendor_name created
2025-11-27 14:10:47,859 INFO  liquibase.changelog [main] Index idx_event_tx_event_id created
2025-11-27 14:10:47,961 INFO  liquibase.changelog [main] Index idx_event_tx_vendor_id created
2025-11-27 14:10:48,422 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (booking_id)
2025-11-27 14:10:48,953 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (product_id)
2025-11-27 14:10:49,452 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (event_id)
2025-11-27 14:10:49,962 INFO  liquibase.changelog [main] Foreign key constraint added to app_event_transaction (vendor_id)
2025-11-27 14:10:49,965 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-event-transaction.xml::6::omar ran successfully in 2587ms
2025-11-27 14:10:49,991 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-role.xml::create-table-role::omar
2025-11-27 14:10:50,122 INFO  liquibase.changelog [main] Table app_role created
2025-11-27 14:10:50,211 INFO  liquibase.changelog [main] Unique constraint added to app_role(name, entity_type)
2025-11-27 14:10:50,212 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-role.xml::create-table-role::omar ran successfully in 220ms
2025-11-27 14:10:50,245 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-permission.xml::create-table-permission::omar
2025-11-27 14:10:50,398 INFO  liquibase.changelog [main] Table app_permission created
2025-11-27 14:10:50,470 INFO  liquibase.ui [main] Duplicate index 'uk_permission_name' defined on the table 'ticket_db.app_permission'. This is deprecated and will be disallowed in a future release.
2025-11-27 14:10:50,470 INFO  liquibase.changelog [main] Unique constraint added to app_permission(name)
2025-11-27 14:10:50,471 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-permission.xml::create-table-permission::omar ran successfully in 225ms
2025-11-27 14:10:50,496 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-app-role-permission.xml::create-table-role-permissions::omar
2025-11-27 14:10:50,625 INFO  liquibase.changelog [main] Table app_role_permissions created
2025-11-27 14:10:50,985 INFO  liquibase.changelog [main] Foreign key constraint added to app_role_permissions (role_id)
2025-11-27 14:10:51,313 INFO  liquibase.changelog [main] Foreign key constraint added to app_role_permissions (permission_id)
2025-11-27 14:10:51,544 INFO  liquibase.changelog [main] Unique constraint added to app_role_permissions(role_id, permission_id)
2025-11-27 14:10:51,546 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-app-role-permission.xml::create-table-role-permissions::omar ran successfully in 1048ms
2025-11-27 14:10:51,573 INFO  liquibase.ui [main] Running Changeset: db/changelog/25-11-2025-user-entity-role.xml::add-user-entity-roles-table::omar
2025-11-27 14:10:51,737 INFO  liquibase.changelog [main] Table user_entity_roles created
2025-11-27 14:10:51,939 INFO  liquibase.changelog [main] Primary key added to user_entity_roles (user_entity_id, role_id)
2025-11-27 14:10:52,209 INFO  liquibase.changelog [main] Foreign key constraint added to user_entity_roles (user_entity_id)
2025-11-27 14:10:52,497 INFO  liquibase.changelog [main] Foreign key constraint added to user_entity_roles (role_id)
2025-11-27 14:10:52,575 INFO  liquibase.changelog [main] Index idx_user_entity_roles_user created
2025-11-27 14:10:52,719 INFO  liquibase.changelog [main] Index idx_user_entity_roles_role created
2025-11-27 14:10:52,721 INFO  liquibase.changelog [main] ChangeSet db/changelog/25-11-2025-user-entity-role.xml::add-user-entity-roles-table::omar ran successfully in 1147ms
2025-11-27 14:10:52,766 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 14:10:52,767 INFO  liquibase.util [main] Run:                         16
2025-11-27 14:10:52,767 INFO  liquibase.util [main] Previously run:               0
2025-11-27 14:10:52,768 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 14:10:52,768 INFO  liquibase.util [main] -------------------------------
2025-11-27 14:10:52,768 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 14:10:52,772 INFO  liquibase.util [main] Update summary generated
2025-11-27 14:10:52,781 INFO  liquibase.command [main] Update command completed successfully.
2025-11-27 14:10:52,782 INFO  liquibase.ui [main] Liquibase: Update has been successful. Rows affected: 0
2025-11-27 14:10:52,800 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 14:10:52,802 INFO  liquibase.command [main] Command execution complete
2025-11-27 14:10:53,068 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 14:10:53,154 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 14:10:53,848 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 14:10:53,924 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 14:10:53,941 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 14:10:56,220 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 14:10:56,285 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 14:10:56,378 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 14:10:59,574 WARN  o.s.b.w.s.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'KYCController' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/common/onboarding/controller/KYCController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'KYCUploadService' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/common/onboarding/services/KYCUploadService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'imageRepository' defined in com.tiketika.Tiketika.common.images.responsibilities.ImageRepository defined in @EnableJpaRepositories declared on DataJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: No property 'entity' found for type 'Images'
2025-11-27 14:10:59,576 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 14:10:59,579 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2025-11-27 14:10:59,588 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2025-11-27 14:10:59,590 INFO  o.a.catalina.core.StandardService [main] Stopping service [Tomcat]
2025-11-27 14:10:59,601 INFO  o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-27 14:10:59,618 ERROR o.s.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'KYCController' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/common/onboarding/controller/KYCController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'KYCUploadService' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/common/onboarding/services/KYCUploadService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'imageRepository' defined in com.tiketika.Tiketika.common.images.responsibilities.ImageRepository defined in @EnableJpaRepositories declared on DataJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: No property 'entity' found for type 'Images'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at com.tiketika.Tiketika.TiketikaApplication.main(TiketikaApplication.java:11)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'KYCUploadService' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/common/onboarding/services/KYCUploadService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'imageRepository' defined in com.tiketika.Tiketika.common.images.responsibilities.ImageRepository defined in @EnableJpaRepositories declared on DataJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: No property 'entity' found for type 'Images'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'imageRepository' defined in com.tiketika.Tiketika.common.images.responsibilities.ImageRepository defined in @EnableJpaRepositories declared on DataJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: No property 'entity' found for type 'Images'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: No property 'entity' found for type 'Images'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:109)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:111)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:118)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:291)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:114)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:102)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:90)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:417)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$1(RepositoryFactoryBeanSupport.java:351)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:136)
	at org.springframework.data.util.Lazy.get(Lazy.java:114)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:360)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	... 46 common frames omitted
Caused by: org.springframework.data.core.PropertyReferenceException: No property 'entity' found for type 'Images'
	at org.springframework.data.core.SimplePropertyPath.<init>(SimplePropertyPath.java:93)
	at org.springframework.data.core.SimplePropertyPath.create(SimplePropertyPath.java:360)
	at org.springframework.data.core.SimplePropertyPath.create(SimplePropertyPath.java:335)
	at org.springframework.data.core.SimplePropertyPath.lambda$from$0(SimplePropertyPath.java:288)
	at org.springframework.util.ConcurrentReferenceHashMap$6.execute(ConcurrentReferenceHashMap.java:380)
	at org.springframework.util.ConcurrentReferenceHashMap$Segment.doTask(ConcurrentReferenceHashMap.java:667)
	at org.springframework.util.ConcurrentReferenceHashMap.doTask(ConcurrentReferenceHashMap.java:551)
	at org.springframework.util.ConcurrentReferenceHashMap.computeIfAbsent(ConcurrentReferenceHashMap.java:374)
	at org.springframework.data.core.SimplePropertyPath.from(SimplePropertyPath.java:270)
	at org.springframework.data.core.PropertyPath.from(PropertyPath.java:210)
	at org.springframework.data.core.PropertyPath.from(PropertyPath.java:193)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:260)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:261)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:390)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:391)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:104)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:105)
	... 60 common frames omitted
2025-11-27 14:14:58,320 INFO  c.t.Tiketika.TiketikaApplication [main] Starting TiketikaApplication using Java 17.0.16 with PID 18640 (/home/omar/Downloads/Tiketika/target/classes started by omar in /home/omar/Downloads/Tiketika)
2025-11-27 14:14:58,325 INFO  c.t.Tiketika.TiketikaApplication [main] The following 1 profile is active: "dev"
2025-11-27 14:14:58,711 INFO  o.h.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 9.0.1.Final
2025-11-27 14:14:59,597 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 14:14:59,788 INFO  o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 170 ms. Found 14 JPA repository interfaces.
2025-11-27 14:15:00,883 INFO  o.s.boot.tomcat.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-11-27 14:15:00,908 INFO  o.a.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-11-27 14:15:00,912 INFO  o.a.catalina.core.StandardService [main] Starting service [Tomcat]
2025-11-27 14:15:00,913 INFO  o.a.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 14:15:01,025 INFO  o.s.b.w.c.s.WebApplicationContextInitializer [main] Root WebApplicationContext: initialization completed in 2606 ms
2025-11-27 14:15:01,288 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-11-27 14:15:01,611 INFO  com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@18c880ea
2025-11-27 14:15:01,614 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-11-27 14:15:02,174 INFO  liquibase.lockservice [main] Successfully acquired change log lock
2025-11-27 14:15:02,290 INFO  liquibase.command [main] Clearing database change log checksums for database mysql
2025-11-27 14:15:02,338 INFO  liquibase.lockservice [main] Successfully released change log lock
2025-11-27 14:15:02,339 INFO  liquibase.command [main] Command execution complete
2025-11-27 14:15:08,444 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 14:15:09,235 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 14:15:09,283 INFO  liquibase.ui [main] Database is up to date, no changesets to execute
2025-11-27 14:15:09,287 INFO  liquibase.changelog [main] Reading from ticket_db.DATABASECHANGELOG
2025-11-27 14:15:09,309 INFO  liquibase.util [main] UPDATE SUMMARY
2025-11-27 14:15:09,310 INFO  liquibase.util [main] Run:                          0
2025-11-27 14:15:09,310 INFO  liquibase.util [main] Previously run:              16
2025-11-27 14:15:09,310 INFO  liquibase.util [main] Filtered out:                 0
2025-11-27 14:15:09,310 INFO  liquibase.util [main] -------------------------------
2025-11-27 14:15:09,310 INFO  liquibase.util [main] Total change sets:           16
2025-11-27 14:15:09,311 INFO  liquibase.util [main] Update summary generated
2025-11-27 14:15:09,312 INFO  liquibase.command [main] Command execution complete
2025-11-27 14:15:09,426 INFO  o.h.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 14:15:09,517 INFO  org.hibernate.Version [main] HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 14:15:10,205 INFO  o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 14:15:10,279 WARN  org.hibernate.orm.deprecation [main] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 14:15:10,296 INFO  o.hibernate.orm.connections.pooling [main] HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/ticket_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.43
	Default catalog/schema: ticket_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 14:15:12,577 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 14:15:12,653 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 14:15:12,758 INFO  o.s.d.j.r.q.QueryEnhancerFactories [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 14:15:14,192 WARN  o.s.b.w.s.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'KYCController' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/common/onboarding/controller/KYCController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'KYCUploadService' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/common/onboarding/services/KYCUploadService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'imageRepository' defined in com.tiketika.Tiketika.common.images.responsibilities.ImageRepository defined in @EnableJpaRepositories declared on DataJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: No property 'entityType' found for type 'Images'; Did you mean 'entity_type'
2025-11-27 14:15:14,194 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 14:15:14,198 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2025-11-27 14:15:14,207 INFO  com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2025-11-27 14:15:14,211 INFO  o.a.catalina.core.StandardService [main] Stopping service [Tomcat]
2025-11-27 14:15:14,226 INFO  o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-27 14:15:14,248 ERROR o.s.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'KYCController' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/common/onboarding/controller/KYCController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'KYCUploadService' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/common/onboarding/services/KYCUploadService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'imageRepository' defined in com.tiketika.Tiketika.common.images.responsibilities.ImageRepository defined in @EnableJpaRepositories declared on DataJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: No property 'entityType' found for type 'Images'; Did you mean 'entity_type'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at com.tiketika.Tiketika.TiketikaApplication.main(TiketikaApplication.java:11)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'KYCUploadService' defined in file [/home/omar/Downloads/Tiketika/target/classes/com/tiketika/Tiketika/common/onboarding/services/KYCUploadService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'imageRepository' defined in com.tiketika.Tiketika.common.images.responsibilities.ImageRepository defined in @EnableJpaRepositories declared on DataJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: No property 'entityType' found for type 'Images'; Did you mean 'entity_type'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'imageRepository' defined in com.tiketika.Tiketika.common.images.responsibilities.ImageRepository defined in @EnableJpaRepositories declared on DataJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: No property 'entityType' found for type 'Images'; Did you mean 'entity_type'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: No property 'entityType' found for type 'Images'; Did you mean 'entity_type'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:109)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:111)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:118)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:291)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:114)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:102)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:90)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:417)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$1(RepositoryFactoryBeanSupport.java:351)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:136)
	at org.springframework.data.util.Lazy.get(Lazy.java:114)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:360)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	... 46 common frames omitted
Caused by: org.springframework.data.core.PropertyReferenceException: No property 'entityType' found for type 'Images'; Did you mean 'entity_type'
	at org.springframework.data.core.SimplePropertyPath.<init>(SimplePropertyPath.java:93)
	at org.springframework.data.core.SimplePropertyPath.create(SimplePropertyPath.java:360)
	at org.springframework.data.core.SimplePropertyPath.create(SimplePropertyPath.java:335)
	at org.springframework.data.core.SimplePropertyPath.lambda$from$0(SimplePropertyPath.java:288)
	at org.springframework.util.ConcurrentReferenceHashMap$6.execute(ConcurrentReferenceHashMap.java:380)
	at org.springframework.util.ConcurrentReferenceHashMap$Segment.doTask(ConcurrentReferenceHashMap.java:667)
	at org.springframework.util.ConcurrentReferenceHashMap.doTask(ConcurrentReferenceHashMap.java:551)
	at org.springframework.util.ConcurrentReferenceHashMap.computeIfAbsent(ConcurrentReferenceHashMap.java:374)
	at org.springframework.data.core.SimplePropertyPath.from(SimplePropertyPath.java:270)
	at org.springframework.data.core.PropertyPath.from(PropertyPath.java:210)
	at org.springframework.data.core.PropertyPath.from(PropertyPath.java:193)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:260)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:261)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:390)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:391)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:104)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:105)
	... 60 common frames omitted
